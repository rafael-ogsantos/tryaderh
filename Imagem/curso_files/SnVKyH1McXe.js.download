if (self.CavalryLogger) { CavalryLogger.start_js(["QLbei"]); }

__d("MNotificationClick",["CSS","MLegacyDataStore","MRequest","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k="notification",l="list_",m="acw",n="aclb",o={},p=!1;e.exports={init:function(){if(p)return;j.listen("click",k,q);j.listen("m:page:render:cache:complete",null,r);p=!0}};function q(event){var a=event.getNode("touchable");if(!a)return;var b=h.get(a).notif_id;if(!b)return;new i("/a/jewel_notifications_log.php").addData({click_type:"notification_click",id:b,target_id:h.get(a).target_id}).send();s(event)}function r(a){if(a.getData().path.indexOf("notifications")>-1)for(var b in o)t(b)}function s(event){__p&&__p();var a=event.getNode("marea");if(!a)return;a=a.getAttribute("id");if(!a)return;t(a);var b=a.startsWith(l)?a.substring(l.length):l+a;t(b);o[a]=!0;o[b]=!0}function t(a){a=document.getElementById(a);a&&(g.addClass(a,m),g.removeClass(a,n))}}),null);
__d("MQuickPromotionNotificationJewel",["MJewels","QPRenderer","Stratcom"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=!1;a=function(a){function b(event){!j&&event.getData().jewel===g.NOTIFICATIONS&&(h.logEvent(a.promotionID,"view",{}),j=!0)}i.listen("m:jewel:flyout:open",null,b)};f.registerForLogging=a}),null);