if (self.CavalryLogger) { CavalryLogger.start_js(["eT+0r"]); }

__d("MJewelNotifications",["Bootloader","ChannelEventType","MRequest","MURI","Run","Stratcom","SubscriptionsHandler","isFacebookURI"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=[],this.$3=!1,this.$4=!1,this.$5=new m(),this.$5.addSubscriptions(k.onLeave(function(){this.$5.release()}.bind(this)),l.listen(h.NOTIFICATIONS_NEW,null,this.onNotificationReceive.bind(this)))}a.prototype.getNotifications=function(){return this.$2};a.prototype.registerListeners=function(){this.$5.addSubscriptions(l.listen(h.NOTIFICATIONS_READ,null,this.onNotificationRead.bind(this)),l.listen("click","live-notifications",this.onNotificationClick.bind(this)),l.listen("m:jewel:flyout:open",null,this.onJewelOpen.bind(this)))};a.prototype.onJewelOpen=function(event){var a=event.getData();a=a&&a.jewel&&a.jewel==="notifications";a&&this.$4&&this.updateUI()};a.prototype.onNotificationClick=function(event){var a=event.getNode("live-notification");if(!a)return;a=a.getAttribute("data-alertid");this.readNotification(a);this.updateUI();new i("/a/jewel_notifications_log.php").addData({click_type:"jewel_notif_click",id:a}).send()};a.prototype.onNotificationRead=function(event){var a=event.getData();a&&a.alert_ids&&(a.alert_ids.forEach(function(a){this.readNotification(a)}.bind(this)),this.updateUI())};a.prototype.readNotification=function(a){this.$2.forEach(function(b){b.alert_id==a&&(b.unread&&(this.$4=!0),b.unread=!1)}.bind(this))};a.prototype.addNotification=function(a){this.$2=this.$2.filter(function(b){return b.alert_id!==a.alert_id}),a.timestamp=Date.now(),this.$2.push(a),this.$4=!0};a.prototype.onNotificationReceive=function(event){var a=event.getData();if(a&&a.data){if(a.data.type==="friend_confirmed")return;this.$3||(this.$3=!0,this.registerListeners());this.addNotification(a.data);this.updateUI()}};a.prototype.updateUI=function(){if(!this.$3||!this.$4)return;g.loadModules(["React","ReactDOM","MJewelNotificationList.react","Popover"],function(a,b,c,d){if(!d.getInstance("notifications_flyout").isOpen())return;var e={notifications:this.$2};b.render(a.createElement(c,e),this.$1);d.getInstance("notifications_flyout").refreshConstraints();this.$4=!1}.bind(this),"MJewelNotifications")};e.exports=a}),null);
__d("SearchClientFunnelTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){h.log("search_client_funnel:SearchClientFunnelLoggerConfig",this.$1,g.BASIC)};a.prototype.logVital=function(){h.log("search_client_funnel:SearchClientFunnelLoggerConfig",this.$1,g.VITAL)};a.prototype.logImmediately=function(){h.log("search_client_funnel:SearchClientFunnelLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setActionName=function(a){this.$1.action_name=a;return this};a.prototype.setLastState=function(a){this.$1.last_state=a;return this};a.prototype.setSelectedID=function(a){this.$1.selected_id=a;return this};a.prototype.setSelectedText=function(a){this.$1.selected_text=a;return this};a.prototype.setSelectedType=function(a){this.$1.selected_type=a;return this};a.prototype.setTypeaheadSid=function(a){this.$1.typeahead_sid=a;return this};a.prototype.setTypedQuery=function(a){this.$1.typed_query=a;return this};b={action_name:!0,last_state:!0,selected_id:!0,selected_text:!0,selected_type:!0,typeahead_sid:!0,typed_query:!0};e.exports=a}),null);
__d("MSideNavMarauderLogger",["MarauderLogger","MLegacyDataStore","MTouchClick","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k="";function a(event){g.toggleModule("sidebar_menu",!0)}function b(event){g.toggleModule("sidebar_menu",!1)}function c(event){var a=event.getNode("tag:a"),b=event.getNode("tag:div");g.log("open_application","sidebar_menu",{application_link_type:"local_module",display_name:b?b.innerText:"unknown",url:a&&a.href});g.setNavigationModule("sidebar_menu")}function d(){o("session_start")}function f(){o("cancel")}function l(a){__p&&__p();a=a.getData();if(a.node.rel<=0)return;var b=0,c="",d=h.get(a.node);d&&(b=d.bootstrap?1:0,c=d.type);d=0;var e=null;for(var f=0;f<a.results.length;f++){var g=a.results[f];if(g.rel>0){if(g.rel==a.node.rel){e=d;break}d++}}o("click",{query:a.query,is_bootstrapped:b,display_position:e},c,a.node.rel)}function m(a){a=a.getData();o("click",{query:a.query,is_bootstrapped:a.node.bootstrap?1:0,display_position:a.position},a.node.type,a.node.id)}function n(a){k!==a&&o("search_keystroke",{prev_query:k,new_query:a}),k=a}function o(a,b,c,d){g.log(a,"search_typeahead",b,c,d)}function p(a){return a.listen("change",n)}j.listen("m:side-area:show",null,a);j.listen("m:side-area:hide",null,b);j.listen("click","side-menu-item",c);a=i.hasTouchEvents()?"touchend":"click";j.listen(a,"search-activator",d);j.listen(a,"graph-search-activator",d);j.listen("click","graph-search-entry-point",d);j.listen("m:search-overlay:cancel",null,f);j.listen("m:search-overlay:cancel-react",null,f);j.listen("m:search-typeahead:select",null,l);j.listen("m:search-typeahead:select-react",null,m);e.exports={setupTypeaheadListener:p}}),null);
__d("MQuickPromotionEmbeddedInterstitial",["DOM","MRequest","Stratcom","XQuickPromotionSimpleLoggingController"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k=!1;a=function(a,b,c){__p&&__p();if(k)return;k=!0;function d(event){i.removeCurrentListener();var b=event.getNode(a.promo);g.hide(b);b=g.find(event.getNode(a.jewel),"div",a.sibling);g.show(b);i.invoke("m:qp:embedded-interstitial:close")}function e(event){if(event.getData().jewel==a.jewel){i.removeCurrentListener();var d=j.getURIBuilder().setInt("qp_id",b).setStringToStringMap("qp_instance_log_data",c).setString("qp_event","view").getURI();d=new h(d);d.send()}}i.listen("click",a.close,d);i.listen("m:jewel:flyout:open",null,e)};f.main=a}),null);
__d("MActionBubbleMask",["CSS","DOM","MViewport","Stratcom","cx","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m="_5nvw",n="_5nvx",o=300;function a(a){"use strict";this.$1=null,this.$2=null,this.$3=a}a.prototype.enable=function(){"use strict";var a=this.$3.getRoot().getAttribute("data-mask-class");a||(a=m);this.$2=h.create("div",{className:a});this.$1=[this.$3.addListener("show",this.$4.bind(this)),this.$3.addListener("hide",this.$5.bind(this)),this.$3.addListener("reposition",this.$6.bind(this)),h.listen(this.$2,"touchend",null,function(a){a.stop()})];this.$3.isShown()&&this.$4()};a.prototype.disable=function(){"use strict";this.$5();while(this.$1.length)this.$1.pop().remove();this.$1=null;this.$2=null};a.prototype.$4=function(){"use strict";h.insertBefore(this.$3.getRoot(),this.$2),g.addClass(this.$3.getCausalElement(),n),this.$7=j.listen("scroll",null,this.$6.bind(this)),this.$6()};a.prototype.$5=function(){"use strict";h.remove(this.$2);var a=this.$3.getCausalElement();a&&g.removeClass(a,n);this.$7&&this.$7.remove();this.$7=null};a.prototype.$6=function(){"use strict";l(function(){this.$2.style.top=i.getScrollTop()-o+"px",this.$2.style.height=i.getHeight()+o*2+"px"}.bind(this))};e.exports=a}),null);
__d("MSearchTabBar",["CSS","DOM","MActionBubbleMask","MFlyout","MLayerDestroyOnTransition","MLayerHideOnBlur","MLayerHideOnCloseClick","Stratcom","SubscriptionsHandler","containsNode","cx","fbt","throttle"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){"use strict";__p&&__p();function t(a,b,c){__p&&__p();c===void 0&&(c={destroyOnTransition:!0}),this.render=function(){__p&&__p();this.$3==null&&(this.$3=h.create("div",{className:"button touchable _x02 _x03",tabIndex:0,"aria-label":r._("Mais"),role:"button"},h.create("div",{className:"_x04"})),this.$9.addSubscriptions(h.listen(this.$3,"click",null,this.$12)),h.appendContent(this.$1,this.$3));this.$4==null&&(this.$4=h.create("div",{className:"_x08"}));if(this.$8==null){var a=[l,i,m];this.$10.destroyOnTransition&&a.push(k);this.$8=new j({classNames:["_55i2","accelerate"],nubalign:"center",offsetY:5,position:"below",margin:"none",width:"wide",addedBehaviors:a,context:this.$3},this.$4)}a=this.$5;if(a==null){a=[];for(var b=this.$2,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;a.push(h.create("a",{href:e.uri,className:"_x0a"+(e.is_selected===!0?" _x0b":""),"data-sigil":"mlayer-hide-on-click"},e.label))}h.prependContent(this.$1,a);this.$5=a}e=this.$6;e==null&&(e=this.$3.offsetWidth,this.$6=e);d=this.$1.offsetWidth-e;c=0;b=0;e=a.length;var f;for(;b<a.length;b++)this.$2[b].is_selected&&(f=b),this.$7[b]==null&&(this.$7[b]=a[b].offsetWidth),c+=this.$7[b],e===a.length&&c>d&&(e=b);b=a.slice();if(e<b.length&&f!=null&&f>=e){c=b[f];b.splice(f,1);b.splice(e-1,0,c)}for(var d=0;d<b.length;d++)d<e?h.appendContent(this.$1,b[d]):h.appendContent(this.$4,b[d]);h.appendContent(this.$1,this.$3);e<b.length?g.removeClass(this.$3,"_x03"):g.addClass(this.$3,"_x03")}.bind(this),this.$12=function(event){if(!p(this.$3,event.getTarget()))return;g.addClass(this.$3,"_x0d");n.addSigil(this.$3,"selected");n.removeCurrentListener()}.bind(this),this.$11=function(){g.removeClass(this.$3,"_x0d"),n.removeSigil(this.$3,"selected"),n.listen("click",null,this.$12)}.bind(this),this.$1=a,this.$7=[],this.$10=c,this.$9=new o(),this.$9.addSubscriptions(n.listen("m:flyout:close",null,this.$11),n.listen(["m:viewport:orientation-change","resize"],null,s(this.render,200))),c.destroyOnTransition&&this.$9.addSubscriptions(n.listen("m:page:unload",null,function(){this.$9.release()}.bind(this))),b!=null&&this.setTabs(b)}t.prototype.setTabs=function(a){this.$2=a;this.$5!=null&&this.$5.forEach(function(a){return h.remove(a)});this.$5=null;this.render();return this};t.init=function(a,b,c){c===void 0&&(c={destroyOnTransition:!0});return new t(a,b,c)};e.exports=t}),null);
__d("XGroupSearchResultsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/search/",{groupID:{type:"Int"},query:{type:"String"},name:{type:"String"},cursor:{type:"String"},source:{type:"String"}})}),null);
__d("MSearchSimplificationUtils",["MHistory","URI","XGroupSearchResultsController"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=new RegExp("^/(search/top|graphsearch/str.+/keywords_(top|search))"),k=new RegExp("^/(search|graphsearch|groups/search)"),l=new RegExp("^/(groups/search)");function m(a){var b=g.getPath();b=new h(b).getPath();return b.match(a)!=null}var n={getKeywordSemantic:function(a){return"keywords_search("+a+")"},getKeywordURI:function(a){return new h("/search/top/").addQueryData("q",a)},getGroupSearchURI:function(a,b){return i.getURIBuilder().setInt("groupID",a).setString("query",b).getURI()},isSearchURI:function(a){return a.getPath().match(k)!=null},isTopTabURI:function(a){return a.getPath().match(j)!=null},isCurrentPathTopTabPath:function(){return m(j)},isCurrentPathSERPPath:function(){return m(k)},isCurrentPathScopedSearchPath:function(){return m(l)},isTypeaheadOpen:function(){return g.getParam(g.SOFT_STATE_KEY)==="search"},isTabOverlayOpen:function(){return g.getParam(g.SOFT_STATE_KEY)!=null},getQueryFromCurrentPath:function(){if(!n.isCurrentPathSERPPath())return null;var a=new h(g.getPath()),b=a.getQueryData();if(b.q!=null)return b.q;b=a.getPath();a=b.match(/\/graphsearch\/str\/([^\/]+)/);return a!=null?decodeURIComponent(a[1]).replace(/\+/g," "):null}};e.exports=n}),null);
__d("MSearchTabsAboveBEM",["DOM","MSearchSimplificationUtils","MSearchTabBar","Stratcom","SubscriptionsHandler","URI","csx","cx","fbt"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";__p&&__p();function p(a){this.$10=function(){this.$12()}.bind(this),this.$9=function(){this.$12()}.bind(this),this.$11=function(){var a=h.isCurrentPathSERPPath();a||p.setTabs(this.$8())}.bind(this),this.$3=a}p.prototype.enable=function(){this.$1={isVisible:!1};this.$2=g.create("div",{className:"_1t4h"});var a=document.querySelector("._234-");a!=null?g.insertBefore(a,this.$2):g.appendContent(this.$3.getRoot(),this.$2);p.$7=i.init(this.$2,p.$6!=null?p.$6:this.$8(),{destroyOnTransition:!1});g.hide(this.$2);this.$4=new k();this.$4.addSubscriptions(j.listen("m:page:render:complete",null,this.$9),j.listen("m:history:change",null,this.$10),j.listen("m:page:unload",null,this.$11));this.$12()};p.prototype.disable=function(){this.$4.release(),g.remove(this.$2)};p.prototype.$12=function(){var a=h.isCurrentPathSERPPath(),b=h.isTypeaheadOpen(),c=h.isCurrentPathScopedSearchPath();this.$13({isVisible:a&&!b&&!c})};p.prototype.$13=function(a){var b=babelHelpers["extends"]({},this.$1);this.$1=babelHelpers["extends"]({},this.$1,a);b.isVisible!==this.$1.isVisible&&(this.$1.isVisible?(g.show(this.$2),p.$7.render()):g.hide(this.$2))};p.prototype.$8=function(){this.$5==null&&(this.$5=[{is_selected:!0,label:o._("Tudo"),uri:new l("#")},{label:o._("Publica\u00e7\u00f5es"),uri:new l("#")},{label:o._("Pessoas"),uri:new l("#")},{label:o._("Fotos"),uri:new l("#")},{label:o._("V\u00eddeos"),uri:new l("#")},{label:o._("P\u00e1ginas"),uri:new l("#")},{label:o._("Locais"),uri:new l("#")},{label:o._("Grupos"),uri:new l("#")},{label:o._("Aplicativos"),uri:new l("#")},{label:o._("Eventos"),uri:new l("#")}]);return this.$5};p.setTabs=function(a){p.$6=a;var b=p.$7;b!=null&&b.setTabs(a)};e.exports=p}),null);
__d("MSearchConst",[],(function(a,b,c,d,e,f){e.exports={refid:46,news_search:"news",video_search:"video",content_search:"content",msite_news_null_state:"mnns",msite_news_non_gs_null_state:"mnngns",event_click:"click",event_impression:"imp"}}),null);
__d("XMobileSearchTrendingLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/graphsearch/trending/logging/",{topic_ids:{type:"IntVector",required:!0},source:{type:"String",required:!0},positions:{type:"IntVector",required:!0},query_id:{type:"Int",required:!0},event:{type:"String",required:!0}})}),null);
__d("MSearchTrendingLogger",["MRequest","MSearchConst","Run","Stratcom","XMobileSearchTrendingLoggingController","forEachObject"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m=null;a={registerTrendingTopicListeners:function(a,b,c,d){__p&&__p();var e=this;m||(m={},i.onLeave(function(){l(m,function(a){return a.remove()}),m=null}));var f=[],g=function(g){var h=a[g];if(h==null||m[h])return"continue";m[h]=j.listen("click",h,function(){this._logTrendingTopicClick(h,b,c[g],d)}.bind(e));f.push(m[h])};for(var h=0;h<a.length;h++){var k=g(h);if(k==="continue")continue}return f},logTrendingTopicImpressions:function(a,b,c,d){if(!a||a.length===0)return;for(var e=0;e<a.length;e++)a[e]==null&&(a.splice(e,1),c.splice(e,1),e--);e=k.getURIBuilder().setIntVector("topic_ids",a).setString("source",b).setIntVector("positions",c).setInt("query_id",d).setString("event",h.event_impression).getURI();a=new g(e);a.send()},_logTrendingTopicClick:function(a,b,c,d){if(!a)return;return function(){var e=k.getURIBuilder().setIntVector("topic_ids",[a]).setString("source",b).setIntVector("positions",[c]).setInt("query_id",d).setString("event",h.event_click).getURI();e=new g(e);e.send()}}};e.exports=a}),null);
__d("SearchTypeaheadPerfLogger",["Banzai","SubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a,b,c,d){this.$8=3,this.$2=b,this.$1=a,this.$4="mtouch_typeahead_log_perf",this.$7=d,this.$3={query:null,latencyData:[],typeaheadType:this.$2,sessionID:null,sessionStartTime:null,click:!1,isBootstrapClick:!1,isExactMatchKeywordClick:!1,isNullStateClick:!1,isSeeMoreClick:!1},this.$10(),this.$11()}a.prototype.$10=function(){this.$9=new h(),this.$9.addSubscriptions(this.$1.listen("update",this.onQueryUpdated.bind(this)),this.$1.listen("show",this.onResultsRendered.bind(this)),this.$1.listen("result-selected",this.onResultSelected.bind(this)))};a.prototype.destroy=function(){this.$9.release()};a.prototype.onResultsRendered=function(a,b){__p&&__p();var c=this.$12();b=this.$13(c);if(b==null)return;if(!this.$14())return;var d=Array.isArray(a)?this.$15(a):this.$15(a.show);if(this.$16(d))return;a=a.show?d.map(function(a){return{isNullStateSuggestion:c==="",isFromCache:a.isFromCache,isSeeMore:a.isSeeMore,exactMatchKeyword:!1}}):d;var e=a.every(function(a){return a.isNullStateSuggestion||a.isSeeMore||a.exactMatchKeyword})&&a.some(function(a){return a.isNullStateSuggestion}),f=a.every(function(a){return a.exactMatchKeyword||a.isSeeMore});a=a.every(function(a){return a.isFromCache||a.isSeeMore||a.exactMatchKeyword})&&a.some(function(a){return a.isFromCache})&&!f;this.$3.latencyData.push({query:c,allFromNullState:e,allFromCache:a,allFromEcho:f||d.length===0,latency:Date.now()-b});this.$6=d};a.prototype.onQueryUpdated=function(a){this.$14()&&(this.$3.query=a,this.$5[a]=Date.now())};a.prototype.onResultSelected=function(a){if(a.id)a.bootstrapped?this.$3.isBootstrapClick=!0:a.exactMatchKeyword?this.$3.isExactMatchKeywordClick=!0:a.isSeeMore?this.$3.isSeeMoreClick=!0:a.isNullStateSuggestion&&(this.$3.isNullStateClick=!0);else if(a.rel>0){a=this.$7.get(a);a&&(this.$3.isBootstrapClick=a.bootstrap==1);this.$3.isNullStateClick=this.$12()===""}else this.$3.isSeeMoreClick=!0;this.$3.click=!0};a.prototype.$11=function(){this.$5={},this.$6=[],this.$3.query=null,this.$3.latencyData=[],this.$3.sessionID=null,this.$3.sessionStartTime=null,this.$3.click=!1,this.$3.isBootstrapClick=!1,this.$3.isExactMatchKeywordClick=!1,this.$3.isNullStateClick=!1,this.$3.isSeeMoreClick=!1};a.prototype.$12=function(){return this.$1.getValue()||""};a.prototype.$14=function(){return this.$3.sessionID!=null};a.prototype.startSession=function(a,b){this.$11(),this.$3.sessionID=a,this.$3.sessionStartTime=Date.now(),this.$3.query=b,this.$3.typeaheadType=this.$2};a.prototype.$13=function(a){if(this.$5[a]!=null)return this.$5[a];else return this.$3.sessionStartTime};a.prototype.$16=function(a){var b=this.$6.filter(function(a){return a.id!="seeMore"}).map(function(a){return a.display}),c=a.filter(function(a){return a.id!="seeMore"}).map(function(a){return a.display});return b.length==c.length&&b.every(function(a,b){return a==c[b]})};a.prototype.$15=function(a){var b=this.$1;return a.filter(function(a){return!a.isInvalidated&&a!==b.loadingIndicator})};a.prototype.endSession=function(){this.$17(),this.$11()};a.prototype.$17=function(){var a={query:this.$3.query,latencyData:this.$3.latencyData,typeaheadType:this.$2,sessionID:this.$3.sessionID,sessionStartTime:this.$3.sessionStartTime,click:this.$3.click,isBootstrapClick:this.$3.isBootstrapClick,isExactMatchKeywordClick:this.$3.isExactMatchKeywordClick,isNullStateClick:this.$3.isNullStateClick,isSeeMoreClick:this.$3.isSeeMoreClick};g.post(this.$4,a,{delay:this.$8,retry:!0})};e.exports=a}),null);
__d("MSearchTypeaheadPerfLoggerUtil",["MLegacyDataStore","SearchTypeaheadPerfLogger"],(function(a,b,c,d,e,f,g,h){"use strict";a={getNewMSearchTypeaheadPerfLogger:function(a,b,c){return new h(a,b.type,c,g)}};e.exports=a}),null);
__d("MRecentSearchesUpdater",["Stratcom","SubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i="search-recent-queries";function a(a){"use strict";this.$1=new h(),this.$1.addSubscriptions(a.listen("change",this.changeQuery.bind(this)),a.listen("select",this.addRecentSearchWithSelection.bind(this)),a.listen("show",this.changeResults.bind(this)),a.listen("query",this.addRecentSearchWithQuery.bind(this)),a.listen("refreshRecent",this.refreshRecent.bind(this)))}a.prototype.destroy=function(){"use strict";this.$1.release()};a.prototype.refreshRecent=function(){"use strict";g.invoke("refreshRecent",i,{})};a.prototype.changeQuery=function(a){"use strict";this.currentQuery=a};a.prototype.changeResults=function(a){"use strict";a.show?this.results=a.show.slice():this.results=a.slice()};a.prototype.addRecentSearchWithQuery=function(){"use strict";g.invoke("addRecentQuery",i,{query:this.currentQuery})};a.prototype.addRecentSearchWithSelection=function(a){"use strict";a=a&&(a.rel||a.getAttribute("rel"));if(!a){this.addRecentSearchWithQuery();return}for(var b=0;b<this.results.length;b++)this.results[b].id===a&&g.invoke("addRecentSearch",i,{result:this.results[b]})};e.exports=a}),null);
__d("SearchFunnelLoggerEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SEARCH_BOX_TAPPED:"search_box_tapped",TA_SUGGESTION_CLICKED:"ta_suggestion_clicked",TA_ABANDON:"ta_abandon",SERP_INLINE_ACTION:"serp_inline_action",SERP_RESULTS_LOADED:"serp_results_loaded",SERP_RESULT_CLICKED:"serp_result_clicked",SERP_SEE_MORE_CLICKED:"serp_see_more_clicked",SERP_SCROLL_RESULTS:"serp_scroll_results",SERP_TAB_CLICKED:"serp_tab_clicked",VIEW_PORT_VIEWS_ON_SEARCH_RESULTS:"view_port_views_on_search_results",END_OF_SERP_RESULTS:"end_of_serp_results"})}),null);
__d("SearchFunnelLogger",["SearchClientFunnelTypedLogger","SearchFunnelLoggerConfig","SearchFunnelLoggerEvents"],(function(a,b,c,d,e,f,g,h,i){"use strict";a={logSearchOpen:function(){if(!h.isEnabled)return;new g().setActionName(i.SEARCH_BOX_TAPPED).log()}};e.exports=a}),null);
__d("MSearchTypeaheadLogger",["DOM","MLegacyDataStore","MRequest","MTouchClick","SearchFunnelLogger","Stratcom","SubscriptionsHandler","invariant","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";__p&&__p();var p=1e3;function q(a){__p&&__p();var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=e.getAttribute("rel");if(f!=null){f={id:f};var i=e.getAttribute("type");i!=null&&(f.type=i);i=e.getAttribute("renderType");i!=null&&(f.renderType=i);i=g.find(e,"a","typeahead-result");e=h.get(i);i=i.getAttribute("data-extra");if(i!=null)try{i=JSON.parse(i)}catch(a){i={}}f=babelHelpers["extends"]({},f,e,i);b.push(f)}}return b}function a(a,b){this.typeahead=a,this.uri=b,this.initialize(),this.emptyQueryResults=[],this.addSubscriptions()}a.prototype.destroy=function(){clearTimeout(this.blurTimeout),this.subscriptions.release()};a.prototype.addSubscriptions=function(){__p&&__p();var a=j.hasTouchEvents()?"touchend":"click";this.subscriptions&&this.subscriptions.release();this.subscriptions=new m();this.subscriptions.addSubscriptions(this.typeahead.listen("focus",function(){var a=this.typeahead.getValue();a!=null||n(0,6223);this.startSession(a,{force:!0});k.logSearchOpen()}.bind(this)),this.typeahead.listen("change",function(a,b){b===void 0&&(b={}),b.preventSessionStart||this.startSession(a),this.sessionInProgress()&&(this.data.query=a)}.bind(this)),this.typeahead.listen("keypress",function(a){this.keypressed+=1}.bind(this)),this.typeahead.listen("select",function(a){var b=a&&(a.rel||a.getAttribute("rel"));this.data.query||(this.data.null_state=1);this.data.click_event=Date.now();b?this.data.selected_id=b:this.data.selected_search=1;this.results&&this.results.length&&this.data.query&&this.data.query.length&&l.invoke("m:search-typeahead:select",null,{node:a,results:this.results.slice(),query:this.data.query.slice()});this.logToServer()}.bind(this)),this.typeahead.listen("show",function(a,b){b===void 0&&(b={});if(!b.preventSessionStart){b=this.typeahead.getValue();b!=null||n(0,6223);this.startSession(b)}this.sessionInProgress()&&(a.show?(this.results=q(a.show),this.typeahead.getValue()||(this.emptyQueryResults=this.results)):(this.data.candidate_results=a.slice().filter(function(a){return!a.isInvalidated}),this.typeahead.getValue()||(this.emptyQueryResults=this.data.candidate_results)))}.bind(this)),this.typeahead.listen("query",function(a,b){this.data.selected_search=1,this.data.selected_type=b,this.logToServer()}.bind(this)),l.listen(a,"search-activator",function(){this.startSession("",{force:!0})}.bind(this)),l.listen(a,"graph-search-activator",function(){this.startSession("",{force:!0})}.bind(this)),this.typeahead.listen("scroll",function(){this.data.scrolled=1}.bind(this)))};a.prototype.updateTypeahead=function(a){this.typeahead=a,this.addSubscriptions()};a.prototype.blur=function(a){this.blurInProgress=!0,this.blurTimeout=o(function(){this.data.session_end_reason=a,this.data.query||(this.data.null_state=1),this.logToServer()}.bind(this),p)};a.prototype.startSession=function(a,b){b===void 0&&(b={}),this.sessionID==null&&(a||b.force)&&(this.data={},this.keypressed=0,this.sessionID=Math.random().toString(),this.data.query=a,this.data.session_start=Date.now(),l.invoke("m-typeahead-logger:new-session-id",null,{sessionID:this.sessionID,query:a}))};a.prototype.sessionInProgress=function(){return this.sessionID!==null&&!this.blurInProgress?!0:!1};a.prototype.logToServer=function(){__p&&__p();clearTimeout(this.blurTimeout);if(this.sessionID!=null){this.data.sid=this.sessionID;this.data.count_keys_pressed=this.keypressed;this.data.typeahead_type=this.typeahead.getTypeaheadType&&this.typeahead.getTypeaheadType();this.data.candidate_results=this.data.candidate_results||[];this.data.candidate_results.length===0&&(this.data.candidate_results=this.results);this.data.null_state_candidate_results=this.emptyQueryResults;this.data.last_state=this.getLastState(this.data.query,this.data.candidate_results);var a=new i(this.uri);a.setMethod("POST").setData({stats:JSON.stringify(this.data)}).send()}this.initialize()};a.prototype.getLastState=function(a,b){var c="typed";a=a.length===0&&b.every(function(a){return a.isNullStateSuggestion});a&&(c="null_state");return c};a.prototype.initialize=function(){this.data={},this.sessionID=null,this.keypressed=0,this.results=[],this.blurInProgress=!1};e.exports=a}),null);
__d("XLiveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/sports/{?query}/",{date:{type:"Int"},ref:{type:"String"},source:{type:"String"},region_id:{type:"Int"},year:{type:"Int"},fref:{type:"String"},query:{type:"String"},name:{type:"String"},cursor:{type:"String"}})}),null);
__d("MTypeaheadNullstateSource",["MTypeaheadTouchSource","Stratcom","URI","XLiveController","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l,m="graph-search-entry-point",n="search-recent-queries";b=babelHelpers.inherits(a,g);l=b&&b.prototype;function a(a,b){"use strict";__p&&__p();l.constructor.call(this,a,b),h.listen("setCurrentProfileID",m,function(event){event.getData().profileID!==this.profileID&&(this.profileID=event.getData().profileID,this.refresh())}.bind(this)),h.listen("addRecentSearch",n,function(event){var a=event.getData().result;a&&this.addRecentResult(a)}.bind(this)),h.listen("addRecentQuery",n,function(event){var a=event.getData().query;if(a){a=this.makeRecentResultWithQuery(a);this.addRecentResult(a)}}.bind(this)),h.listen("refreshRecent",n,function(){this.refresh()}.bind(this)),h.listen("searchRefreshNullstate",null,function(){return this.refresh()}.bind(this)),h.listen("m:search:refresh-nullstate-with-delay",null,function(){k(function(){this.refresh()}.bind(this),3e4)}.bind(this))}a.prototype.makeRecentResultWithQuery=function(a){"use strict";return{display:a,name:a,id:a,uri:"/search/top/?q="+a}};a.prototype.addRecentResult=function(a){"use strict";__p&&__p();if(a.isTrending)return;a.isRecentSearch=!0;var b={},c=0;a.idx=c;b[a.id]=a;for(var d in this._raw)d!=a.id&&(c++,this._raw[d].idx=c,b[d]=this._raw[d]);this._raw=b};a.prototype.refresh=function(){"use strict";this._raw={},this.sendRequest()};a.prototype.getAuxiliaryData=function(){"use strict";return{profile_id:this.profileID?this.profileID:this.groupID?this.groupID:null,disable_single_state:this.singleStateDisabled===!0,enable_scoped:this.scopedEnabled===!0}};a.prototype.ondata=function(a){"use strict";l.ondata.call(this,a)};a.prototype.matchResults=function(a){"use strict";var b=[];a===""&&(b=Object.keys(this._raw));this.sortHits(a,b);a=this.renderNodes(a,b);this.invoke("resultsready",a);this.invoke("complete")};a.prototype.setCurrentProfileID=function(a){"use strict";this.profileID=a};a.prototype.setForceDisableSingleState=function(a){"use strict";this.singleStateDisabled=a};a.prototype.setEnableScoped=function(a){"use strict";this.scopedEnabled=a};a.prototype.sortHits=function(a,b){"use strict";b.sort(this.sortingFunction.bind(this))};a.prototype.sortingFunction=function(a,b){"use strict";a=this._raw[a];a=isNaN(a.idx)?Number.MAX_VALUE:a.idx;b=this._raw[b];b=isNaN(b.idx)?Number.MAX_VALUE:b.idx;return a-b};a.prototype.getTransformer=function(){"use strict";__p&&__p();return function(a){__p&&__p();if(a.keyword_type==="trending"){var b=new i("/topic/trending/"+a.id);a.isSport&&(b=j.getURIBuilder().setString("query",String(a.id)).setString("ref","m_search_null_state").getURI());return{id:a.name,display:a.name,name:a.name,uri:b.toString(),topicID:a.id,trendingQueryID:a.trendingQueryID,subtext:a.articleTitle,type:"trending",photo:a.articleImageURI,actionTime:0,isTrending:!0,isNullStateSuggestion:!0}}if(a.type==="keyword"||a.type==="grammar"){b=new i(a.path||a.uri);return{cost:a.cost,idx:a.idx,display:a.text,name:a.text,type:"keyword",id:a.uid,uri:b.toString(),actionTime:a.action_time,isPYMK:a.pymk,isRecentSearch:a.recent_search,subtext:a.subtext,logInfo:a.logInfo,isNullStateSuggestion:!0,isScoped:a.is_scoped,isPopularSearch:a.popular_search}}return{actionTime:a.action_time,name:a.text,uri:a.path||a.uri,id:a.uid||a.id,display:a.name||a.text,photo:a.photo,category:a.category,cost:a.cost,idx:a.idx,tokens:a.tokens,type:a.type[0].toUpperCase()+a.type.slice(1),verticalType:a.vertical_type,is_verified:a.is_verified,subtext:a.subtext,isPYMK:a.pymk,isRecentSearch:a.recent_search,logInfo:a.logInfo,isNullStateSuggestion:!0,isScoped:a.is_scoped,isPopularSearch:a.popular_search}}};e.exports=a}),null);
__d("findTag",["TAAL","$","ex"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=function(a,b){__p&&__p();var c=h(a);if(!b){if(c instanceof HTMLElement)return c;throw new Error(g.blameToPreviousFile(i('Element with ID "%s" is not an HTMLElement',a)))}var d=c.tagName.toLowerCase();if(d!==b)throw new Error(g.blameToPreviousFile(i("Expected $('%s') to be of type '%s' but got '%s' instead.",a,b,d)));return c};e.exports=a}),null);
__d("TokenizeUtil",["nullthrows"],(function(a,b,c,d,e,f,g){__p&&__p();var h=/[ ]+/g,i=/[^ ]+/g;f=new RegExp("[^ "+l()+"]+|"+a(),"g");var j=new RegExp(a(),"g"),k=1e3;function l(){return".,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf"}function a(){return"["+l()+"]"}var m={},n={a:"\u0430 \xe0 \xe1 \xe2 \xe3 \xe4 \xe5 \u0101",b:"\u0431",c:"\u0446 \xe7 \u010d",d:"\u0434 \xf0 \u010f \u0111",e:"\u044d \u0435 \xe8 \xe9 \xea \xeb \u011b \u0113",f:"\u0444",g:"\u0433 \u011f \u0123",h:"\u0445 \u0127",i:"\u0438 \xec \xed \xee \xef \u0131 \u012b",j:"\u0439",k:"\u043a \u0138 \u0137",l:"\u043b \u013e \u013a \u0140 \u0142 \u013c",m:"\u043c",n:"\u043d \xf1 \u0148 \u0149 \u014b \u0146",o:"\u043e \xf8 \xf6 \xf5 \xf4 \xf3 \xf2",p:"\u043f",r:"\u0440 \u0159 \u0155",s:"\u0441 \u015f \u0161 \u017f",t:"\u0442 \u0165 \u0167 \xfe",u:"\u0443 \u044e \xfc \xfb \xfa \xf9 \u016f \u016b",v:"\u0432",y:"\u044b \xff \xfd",z:"\u0437 \u017e",ae:"\xe6",oe:"\u0153",ts:"\u0446",ch:"\u0447",ij:"\u0133",sh:"\u0448",ss:"\xdf",ya:"\u044f"};for(var o in n){var p=n[o].split(" ");for(var q=0;q<p.length;q++)m[p[q]]=o}function b(a){return a.replace(j," ")}function r(a){a=a.toLowerCase();var b="",c;for(var d=a.length;d--;)c=a.charAt(d),b=(m[c]||c)+b;return b.replace(h," ")}function s(a,b){b===void 0&&(b=i);var c=[],d=b.exec(a);while(d)d=d[0],c.push(d),d=b.exec(a);return c}function c(a,b){__p&&__p();b===void 0&&(b=i);var c={},d=0;return function(e,f){if(!Object.prototype.hasOwnProperty.call(c,e)){d>=k&&(c={},d=0);var g=r(e),h=a(g);c[e]={value:e,flatValue:g,tokens:s(h,b),isPrefixQuery:!!h&&h[h.length-1]!=" "};d++}f!=null&&f!==!1&&c[e].sortedTokens===undefined&&(c[e].sortedTokens=c[e].tokens.slice(),c[e].sortedTokens.sort(function(a,b){return b.length-a.length}));return c[e]}}var t=c(b),u=c(function(a){return a},f);function d(a,b,c){__p&&__p();var d=a=="query"||a=="query_punc",e=a=="query_punc"?u:t;b=e(b,a=="prefix");var f=a=="prefix"?g(b.sortedTokens):b.tokens,h=e(c).tokens,i={},j=b.isPrefixQuery&&d?f.length-1:null;e=function(b,c){for(var e=0;e<h.length;++e){var f=h[e];if(!i[e]&&(f==b||(d&&c===j||a=="prefix")&&f.indexOf(b)===0))return i[e]=!0}return!1};return Boolean(f.length&&f.every(e))}p={flatten:r,parse:t,parseIncludingPunctuations:u,getPunctuation:a,makeParse:c,isExactMatch:d.bind(null,"exact"),isQueryMatch:d.bind(null,"query"),isQueryMatchIncludingPunctuations:d.bind(null,"query_punc"),isPrefixMatch:d.bind(null,"prefix"),tokenize:s};e.exports=p}),null);