if (self.CavalryLogger) { CavalryLogger.start_js(["M3AQY"]); }

__d("MEventChecklist",["DOM","Stratcom"],(function(a,b,c,d,e,f,g,h){a=function(a){var b=g.find(a,"input","checkmark"),c=g.listen(a,"click",null,function(event){b.checked=!b.checked,event.prevent(),b.click()}),d=h.listen("m:page:unload",null,function(){d.remove(),c.remove()})};f.setupListener=a}),null);
__d("MEventLoadingOverlay",["CSS","cx","MParent","MContextualThing","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l=[];function m(a,b,c){"use strict";this.$1=a,this.$2=[],this.$3=!1,this.$4=c,l.push(k.listen("click",b,this.$5.bind(this))),l.push(k.listen("m:page:unload",null,this.$6.bind(this)))}m.prototype.$5=function(event){"use strict";if(!this.$7(event.getTarget()))return;this.$3?this.$8():this.$9()};m.prototype.$7=function(a){"use strict";if(!this.$4)return!0;var b=j.getContext(a);b&&(a=b);return i.bySigil(this.$1,this.$4)===i.bySigil(a,this.$4)};m.prototype.$9=function(){"use strict";g.addClass(this.$1,"_58z9"),this.$3=!0};m.prototype.$8=function(){"use strict";g.removeClass(this.$1,"_58z9"),this.$3=!1};m.prototype.$6=function(){"use strict";for(var a=0;a<l.length;a++)l[a].remove();l=[]};function a(a){new m(a.loader,a.sigil,a.scopeSigil)}e.exports.setup=a}),null);
__d("MEventInviteSectionSync",["CSS","DOM","Stratcom"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a={_updateSuggested:function(a){this._updateList(a),this._updateSection(a.value,!a.checked,this._all,"all_")},_updateAll:function(a){this._updateList(a),this._updateSection(a.value,!a.checked,this._suggestions,"suggested_")},updateSearch:function(a){this._updateList(a),this._updateSection(a.value,!a.checked,this._suggestions,"suggested_"),this._updateSection(a.value,!a.checked,this._all,"all_")},getStatus:function(a){return this._checklist.indexOf(a)<0?!1:!0},isDisabled:function(a){return this._disablelist.indexOf(a)<0?!1:!0},_updateList:function(a){!a.checked?this._checklist.push(a.value):this._checklist.splice(this._checklist.indexOf(a.value),1)},_updateSection:function(a,b,c,d){c=h.scry(c,"div",d+a);if(!c.length)return;d=h.find(c[0],"input","checkmark");if(!d)return;d.checked=b},_appendSection:function(a,b){h.scry(a,"input","checkmark").forEach(function(a){var c=h.listen(a,"click",null,function(){b(a)}),d=i.listen("m:page:unload",null,function(){d.remove(),c.remove()})})},checkSuggested:function(a){this._checklist.forEach(function(a){this._updateSection(a,!0,this._suggestions,"suggested_")}.bind(this)),this._appendSection(a,this._updateSuggested.bind(this))},checkAll:function(a){this._checklist.forEach(function(a){this._updateSection(a,!0,this._all,"all_")}.bind(this)),this._appendSection(a,this._updateAll.bind(this))},resetList:function(){this._checklist.forEach(function(a){this._updateSection(a,!1,this._all,"all_"),this._updateSection(a,!1,this._suggestions,"suggested_")}.bind(this)),this._checklist=[]},getList:function(){return this._checklist},disableList:function(){this._disablelist=this._disablelist.concat(this._checklist),this.resetList(),this._cleanSuggestion()},_cleanSuggestion:function(){var a=h.scry(this._suggestions,"div","suggested_item");a.length||g.hide(this._suggestionHeader)},init:function(a,b,c){this._checklist=[],this._disablelist=[],this._listener=[],this._suggestions=a,this._all=b,this._suggestionHeader=c,this._appendSection(this._suggestions,this._updateSuggested.bind(this)),this._appendSection(this._all,this._updateAll.bind(this))}};e.exports=a}),null);
__d("MEventChecklistSource",["CSS","DOM","MEventChecklist","MEventInviteSectionSync","MTypeaheadTouchSource","Stratcom","createDeprecatedProperties","cx"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o;o=babelHelpers.inherits(a,k);o&&o.prototype;a.prototype.createNode=function(a){"use strict";__p&&__p();var b=[],c=h.create("i",{className:"darkTouch l img profpic",style:{background:"#d8dce6 no-repeat center","background-size":"100% 100%","-webkit-background-size":"100% 100%",width:"48px",height:"48px",backgroundImage:"url("+a.photo+")"}});g.addClass(c,"_1aj5");b.push(c);c=h.create("div",{className:"_4mo"},h.create("strong",a.name));var d=h.create("div",{className:"_4mp"},a.subtitle);c=h.create("div",{className:"c"},[c,d]);g.addClass(c,"_4mn");b.push(c);d=[];var e=h.create("input",{type:"checkbox",value:a.id,sigil:"checkmark",checked:j.getStatus(a.id.toString())});d.push(e);var f=h.listen(e,"click",null,function(){j.updateSearch(e)}),k=l.listen("m:page:unload",null,function(){k.remove(),f.remove()});c=h.create("div");g.addClass(c,"_5f26");d.push(c);c=h.create("div",d);g.addClass(c,"_5s61");g.addClass(c,"_5f2b");d=h.create("div",c);g.addClass(d,"_55wr");g.addClass(d,"_4g33");g.addClass(d,"_52we");g.addClass(d,"_5f2a");c=h.create("label",{className:"ext touchable"},d);g.addClass(c,"_5f25");g.addClass(c,"_4mq");g.addClass(c,"_5f28");b.push(c);d=h.create("div",{className:"ib cc"},b);g.addClass(d,"_1aj4");i.setupListener(d);c=h.create("a",{name:a.name,className:"primary touchable",sigil:"touchable typeahead-result",rel:a.id},d);b=h.create("div",{className:"item acw abt",id:a.id},[c]);g.addClass(b,"_cs2");g.conditionClass(b,"_awx",a.disabled||j.isDisabled(a.id.toString()));return b};function a(){"use strict";o.apply(this,arguments)}m(a,{transformer:function(a){return{name:a.text,uri:a.path,id:a.uid,photo:a.photo,disabled:a.disabled,subtitle:a.subtitle,display:a.display||a.text}}});e.exports=a}),null);
__d("MEventPublicPermalinkInvite",["DOM","FW","MAjaxify","MEventInviteSectionSync","MModalDialog","MRequest","MURI","Stratcom","URI","$"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){__p&&__p();var q="share-in-newsfeed",r="share-in-a-private-message-button",s="/sharer-dialog.php";a={init:function(a){this._isOpen=!1,this._listeners=[],this._eventId=a.eventId,this._acontext=a.acontext,this._tagger=null,this._form=null,this._typeahead=null,this._textarea=null,!window.FW_ENABLED?(this._tagger=a.tagger,this._listeners.push(g.listen(this._tagger,"click",null,this._handleClick.bind(this))),this._listeners.push(n.listen("click","event-permalink-invite-button",this._openFriendsTagger.bind(this))),this._listeners.push(n.listen("click",q,this.shareInNewsfeed.bind(this))),this._listeners.push(n.listen("click",r,this.sendAsMessage.bind(this))),a.isError&&this._listeners.push(n.listen("click","error-message",this._returnFromErrorMessage.bind(this)))):(this._excludeIds=a.excludeIds,this._listeners.push(n.listen("click","event-permalink-invite-button",this._openNativeTagger.bind(this)))),this._listeners.push(n.listen("m:page:unload",null,this._cleanup.bind(this)))},setForm:function(a,b){this._form=a,this._invitee=b},setTypeahead:function(a){this._typeahead=a},setTextarea:function(a){this._textarea=a},_returnFromErrorMessage:function(){g.hide(this._tagger),g.show(p("viewport"))},_handleClick:function(event){event.getNode("cancel_with_tagger")?(this._closeFriendsTagger(),j.resetList()):event.getNode("submit_with_tagger")&&this._submit()},_submit:function(){this._closeFriendsTagger(),this._form&&(this._invitee&&(this._invitee.value=j.getList()),i.form(null,this._form,null,"nocache",null,!1))},_openFriendsTagger:function(){this._isOpen=!0,g.hide(p("viewport")),g.show(this._tagger)},_openNativeTagger:function(){h.showFriendPicker(this._handleFriendsSelectedNative.bind(this),null,this._excludeIds)},_handleFriendsSelectedNative:function(a){a.action=="didPickFriends"&&this._submitInvites(a.pickedFriends)},_submitInvites:function(a){if(a.length===0)return;var b=new m("/a/events/invite").addQueryData({id:this._eventId,acontext:this._acontext});b=new l(b);b.addData({users_with:a.join(",")});i.ajaxify(null,this._root,b);this._excludeIds=this._excludeIds.concat(a)},_closeFriendsTagger:function(){this._isOpen=!1,g.show(p("viewport")),g.hide(this._tagger),this._typeahead&&this._typeahead.clearText(),this._textarea.blur()},_cleanup:function(){this._listeners.forEach(function(a){a.remove()}),this._listeners=[],this._tagger&&g.remove(this._tagger)},shareInNewsfeed:function(){k.init(),k.open(new o(s).setQueryData({sid:this._eventId,m:"self"}).toString())},sendAsMessage:function(){k.init(),k.open(new o(s).setQueryData({sid:this._eventId,m:"message"}).toString())}};e.exports=a}),null);
__d("MEventSearchBar",["DOM","Stratcom","Typeahead"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;b=babelHelpers.inherits(a,i);j=b&&b.prototype;function a(a,b,c){"use strict";j.constructor.call(this,a,b),this.$MEventSearchBar1=c,this.$MEventSearchBar2=b,this.$MEventSearchBar3=this.listen("show",function(a){a&&this.$MEventSearchBar1&&g.hide(this.$MEventSearchBar1)}.bind(this)),this.$MEventSearchBar4=this.listen("hide",function(){this.$MEventSearchBar1&&g.show(this.$MEventSearchBar1)}.bind(this)),this.$MEventSearchBar5=this.listen("choose",function(){h.context().prevent()}.bind(this)),this.$MEventSearchBar6=this.listen("blur",function(a){a.prevent()}.bind(this)),this.$MEventSearchBar7=h.listen("m:page:unload",null,function(){this.$MEventSearchBar3.remove(),this.$MEventSearchBar4.remove(),this.$MEventSearchBar5.remove(),this.$MEventSearchBar6.remove(),this.$MEventSearchBar7.remove(),this.removeListener()}.bind(this))}a.prototype.clearText=function(){"use strict";this.$MEventSearchBar2.value="",this.refresh()};e.exports=a}),null);
__d("MEventInviteSearch",["MEventChecklistSource","MEventPublicPermalinkInvite","MEventSearchBar"],(function(a,b,c,d,e,f,g,h,i){a=function(a,b,c,d){a=new i(a,b,c);b=new g(d.src,d.source_key);a.setDatasource(b);a.start();h.setTypeahead(a)};f.initTypeahead=a}),null);
__d("MEventPermalink",["FW"],(function(a,b,c,d,e,f,g){function a(){window.FW_ENABLED&&g.setNavBarButton("","1;")}e.exports.clearHeaderButton=a}),null);
__d("MStoryActionChainDelete",["DOM","Stratcom"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i="MStoryActionChainDelete:remove";function a(a,b){"use strict";h.listen(i,null,function(event){if(!a)return;event.getData().id===b&&g.remove(a)})}a.removeChainElement=function(a){"use strict";h.invoke(i,null,{id:a})};e.exports=a}),null);
__d("MemoriesAndCelebrationsBanzaiLogger",["Banzai"],(function(a,b,c,d,e,f,g){"use strict";a={logClickEvent:function(a,b){a.onclick=function(){g.post("goodwill_memories_and_celebrations",b)}}};e.exports=a}),null);