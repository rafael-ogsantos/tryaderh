if (self.CavalryLogger) { CavalryLogger.start_js(["o3oyX"]); }

__d("VideoViewabilityKeyEvents",[],(function(a,b,c,d,e,f){e.exports={Events:["entered_fs","exited_fs","finished_playing","paused","player_format_changed","started_playing","unpaused"]}}),null);
__d("MCustomDialog",["DOM","cx","ge"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a={show:function(a){__p&&__p();var b=g.create("div",{className:"_3uug"},null),c=g.create("div",{className:"_3uuh"},g.create("h2",null,a.titleString)),d=g.create("div",{className:"_3uui"},g.create("p",null,a.descriptionString)),e=g.create("p",{className:"_3uuj"},a.dismissButtonString),f=g.create("div",{className:"_3uuk"},e);g.appendContent(b,c);g.appendContent(b,d);g.appendContent(b,f);if(a.confirmButtonString&&a.confirmButtonCallback){var h=g.create("p",{className:"_3uuj"},a.confirmButtonString);g.prependContent(f,h)}var j=g.create("div",{className:"_3uul"},b);e.addEventListener("click",function(){g.remove(j),a.dismissButtonCallback&&a.dismissButtonCallback()});h&&h.addEventListener("click",function(){g.remove(j),a.confirmButtonCallback&&a.confirmButtonCallback()});c=i("root");c&&g.prependContent(c,j)}};e.exports=a}),null);
__d("oz-player/configs/DummyOzConfig",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){a===void 0&&(a={}),this.$1=a}a.prototype.getBool=function(a,b){return typeof this.$1[a]===typeof b?this.$1[a]:b};a.prototype.getNumber=function(a,b){return typeof this.$1[a]===typeof b?this.$1[a]:b};a.prototype.getString=function(a,b){return typeof this.$1[a]===typeof b?this.$1[a]:b};e.exports=a}),null);
__d("oz-player/loggings/OzOperationLoggerBase",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=a}a.prototype.start=function(){this.getClientTimeBegin()||this.setClientTimeBegin(Date.now());return this};a.prototype.log=function(){this.getClientTimeEnd()||this.setClientTimeEnd(Date.now())};a.prototype.setError=function(a){this.$2=a;return this};a.prototype.setResult=function(a){this.$3=a;return this};a.prototype.setType=function(a){this.$4=a;return this};a.prototype.setClientTimeBegin=function(a){this.$5=a;return this};a.prototype.setClientTimeEnd=function(a){this.$6=a;return this};a.prototype.setTimeToRequestSent=function(a){this.$7=a;return this};a.prototype.setReason=function(a){this.$8=a;return this};a.prototype.setResource=function(a){this.$9=a;return this};a.prototype.setSegmentStartTime=function(a){this.$10=a;return this};a.prototype.setSegmentEndTime=function(a){this.$11=a;return this};a.prototype.setLength=function(a){this.$12=a;return this};a.prototype.setPriorityFloat=function(a){this.$13=a;return this};a.prototype.setInitiator=function(a){this.$14=a;return this};a.prototype.setPreloadTime=function(a){this.$15=a;return this};a.prototype.setConcluder=function(a){this.$16=a;return this};a.prototype.setPreviousRepresentationID=function(a){this.$17=a;return this};a.prototype.setRepresentationID=function(a){this.$18=a;return this};a.prototype.setState=function(a){this.$19=a;return this};a.prototype.getError=function(){return this.$2};a.prototype.getResult=function(){return this.$3};a.prototype.getType=function(){return this.$4};a.prototype.getClientTimeBegin=function(){return this.$5};a.prototype.getClientTimeEnd=function(){return this.$6};a.prototype.getTimeToRequestSent=function(){return this.$7};a.prototype.getReason=function(){return this.$8};a.prototype.getResource=function(){return this.$9};a.prototype.getOperationName=function(){return this.$1};a.prototype.getSegmentStartTime=function(){return this.$10};a.prototype.getSegmentEndTime=function(){return this.$11};a.prototype.getLength=function(){return this.$12};a.prototype.getPriorityFloat=function(){return this.$13};a.prototype.getInitiator=function(){return this.$14};a.prototype.getPreloadTime=function(){return this.$15};a.prototype.getConcluder=function(){return this.$16};e.exports=a}),null);
__d("oz-player/loggings/OzPerfLoggerProviderBase",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.prototype.cloneContext=function(){var a=this.createLoggerProvider();this.$6(a);return a};a.prototype.setType=function(a){this.$1=a;return this};a.prototype.setInitiator=function(a){this.$2=a;return this};a.prototype.setResource=function(a){this.$3=a;return this};a.prototype.setSegmentStartTime=function(a){this.$4=a;return this};a.prototype.setSegmentEndTime=function(a){this.$5=a;return this};a.prototype.getType=function(){return this.$1};a.prototype.getInitiator=function(){return this.$2};a.prototype.getResource=function(){return this.$3};a.prototype.getSegmentStartTime=function(){return this.$4};a.prototype.getSegmentEndTime=function(){return this.$5};a.prototype.getOperationLogger=function(a){a=this.createOperationLogger(a);return this.setOperationContext(a)};a.prototype.setOperationContext=function(a){this.$6(a);return a};a.prototype.createOperationLogger=function(a){throw new Error("Not implemented")};a.prototype.createLoggerProvider=function(){throw new Error("Not implemented")};a.prototype.$6=function(a){this.getType()&&a.setType(this.getType()),this.getInitiator()&&a.setInitiator(this.getInitiator()),this.getResource()&&a.setResource(this.getResource()),typeof this.getSegmentStartTime()==="number"&&a.setSegmentStartTime(this.getSegmentStartTime()),typeof this.getSegmentEndTime()==="number"&&a.setSegmentEndTime(this.getSegmentEndTime())};function a(){}e.exports=a}),null);
__d("oz-player/shims/OzEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";e.exports=b("EventEmitter")}),null);
__d("oz-player/loggings/OzPreInitLogger",["oz-player/shims/OzEventEmitter","oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;a=babelHelpers.inherits(l,h);j=a&&a.prototype;function l(a,b){j.constructor.call(this,a),this.$OzPreInitOperationLogger1=b}l.prototype.log=function(){j.log.call(this),this.$OzPreInitOperationLogger1(this)};b=babelHelpers.inherits(m,i);k=b&&b.prototype;function m(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=k.constructor).call.apply(a,[this].concat(d)),this.$OzPreInitLoggerProvider1=!1,this.$OzPreInitLoggerProvider2=[],this.$OzPreInitLoggerProvider3=new g(),b}m.prototype.deactivate=function(){this.$OzPreInitLoggerProvider1=!1};m.prototype.activate=function(){this.$OzPreInitLoggerProvider1=!0,this.$OzPreInitLoggerProvider2.forEach(function(a){this.$OzPreInitLoggerProvider3.emit("operation_logged",a)}.bind(this)),this.$OzPreInitLoggerProvider2=[]};m.prototype.setOperationLoggedListener=function(a){return this.$OzPreInitLoggerProvider3.addListener("operation_logged",function(b){a(b)})};m.prototype.createOperationLogger=function(a){a=new l(a,function(a){this.$OzPreInitLoggerProvider1?this.$OzPreInitLoggerProvider3.emit("operation_logged",a):this.$OzPreInitLoggerProvider2.push(a)}.bind(this));return a};m.prototype.createLoggerProvider=function(){return new m()};e.exports={OzPreInitLoggerProvider:m}}),null);
__d("oz-player/utils/convertRequestPromiseToReadableStream",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var b=new ReadableStream({start:function(b){a.then(function(a){a=new Uint8Array(a.response);b.enqueue(a);b.close()})["catch"](function(a){b.error(a)})}});return b}e.exports=a}),null);
__d("oz-player/media_source/OzQuickStarter",["oz-player/loggings/OzPreInitLogger","oz-player/utils/convertRequestPromiseToReadableStream","oz-player/media_source/MediaSourceManager","oz-player/loggings/OzLoggingUtils","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l=g.OzPreInitLoggerProvider,m=j.monitorPromiseAndLogOperation;function a(a,b,c){c===void 0&&(c=[]),this.$4=new Map(),this.$5=[],this.$7=new Map(),this.$2=a,this.$6=new l(),this.$6.setInitiator("quick_starter"),this.$5.push(this.$6),this.$1=new i(this.$2,b,this.$6),this.$3=new Map(),c.forEach(function(a){return this.addPrefetchTrack(a)}.bind(this))}a.prototype.addPrefetchTrack=function(a){__p&&__p();var b=a.mimeCodec,c=this.$8(b);if(!c)return;var d=this.$8(b),e=this.$9(this.$6).setType(d),f=this.$9(this.$6).setType(d+";init");this.$4.set(c,a.segmentPromise?1:0);d=this.$1.createSourceBufferManager(b).then(function(b){__p&&__p();var c=h(a.initializationPromise);m(a.initializationPromise,f,"fetch_stream");b.queueData(c,f);c=a.segmentPromise;if(c){var d=h(c);m(c,e,"fetch_stream");b.queueData(d,e)}return b});this.$3.set(c,d);a.representationID&&this.$7.set(c,a.representationID)};a.prototype.getSourceBufferManagerPromise=function(a){a=this.$8(a);return this.$3.get(a)};a.prototype.getPrependedSegmentsCount=function(a){var b=this.$8(a);if(!b)return 0;b=this.$4.get(b)||0;return this.getSourceBufferManagerPromise(a)?b:0};a.prototype.getRepresentationId=function(a){a=this.$8(a);return!a?null:this.$7.get(a)||null};a.prototype.getVideoNode=function(){return this.$2};a.prototype.getMediaSourceManager=function(){return this.$1};a.prototype.getObservedOperationLoggers=function(){return this.$5};a.prototype.$9=function(a){a=a.cloneContext();a instanceof l||k(0,5677);this.$5.push(a);return a};a.prototype.$8=function(a){return(a.split("/")[0]||"").trim()};e.exports=a}),null);
__d("MMediaFactory",["MOzExperiments","MVideoUtils","oz-player/configs/DummyOzConfig","oz-player/media_source/OzQuickStarter","setImmediate"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l=[];function m(){return window.MediaSource&&window.fetch&&window.ReadableStream}function n(){var a=h.createVideoNode(),b;m()&&g.use_quick_starter&&(b=new j(a,new i(),[]));return{node:a,quickStarter:b}}var o;function a(){g.precreate_cache_size>0&&!o&&(o=k(p));if(l.length>0)return l.shift();else return n()}function p(){o=null;var a=l.length;if(g.precreate_cache_size&&a>=g.precreate_cache_size)return;a=g.precreate_cache_size-a;for(var b=0;b<a;b++)l.push(n())}e.exports={get:a,populate:p}}),null);
__d("MOzDashPrefetchCache",["MVideoDashPrefetchCache"],(function(a,b,c,d,e,f,g){"use strict";a.prototype.hasCacheValue=function(a){return g.hasCacheValue(a)};a.prototype.getCacheValue=function(a){return g.getCacheValue(a)};a.prototype.getCachedRepresentations=function(a){return null};function a(){}e.exports=a}),null);
__d("dangerouslyOverrideMediaElementEndedProperty",[],(function(a,b,c,d,e,f){function a(a){a===void 0&&(a={});a.dangerouslyOverrideMediaElementEndedProperty=!0;return a}a.isEnded=function(event){return!!(event&&event.detail&&event.detail.dangerouslyOverrideMediaElementEndedProperty)};e.exports=a}),null);
__d("HTMLMediaElementReadyStates",[],(function(a,b,c,d,e,f){a={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};e.exports=a}),null);
__d("getHTMLMediaElementMutedState",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f,g){function a(a){if(a.readyState>=g.HAVE_METADATA)return a.muted;else return a.hasAttribute("muted")||a.muted}e.exports=a}),null);
__d("HVideoPlayerMixin",["EventListener","UserAgent","VideoPlayerHTML5Experiments","VideoPlayerLoggerEvent","dangerouslyOverrideMediaElementEndedProperty","getHTMLMediaElementMutedState"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m=-1,n=!!(window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart);function o(a,event){__p&&__p();a.time_ms=Date.now();var b=event.timeStamp;if(b&&n){var c=Math.floor(b).toString().length,d=Date.now().toString().length,e=window.performance.now();if(c===d+3)b=Math.floor(b/1e3),a.time_ms=b;else if(c===d)a.time_ms=b;else if(b<=e){c=window.performance.timing.navigationStart;a.time_ms=c+Math.floor(b)}}return a}a={initLogger:function(a,b,c,d,e){__p&&__p();this._loggedEvents={};this._logFunction=a;this._fixOverwrittenGetVideoCurrentTime=d;this._fireSeekEvents=e;this._useEventTime=b;a=this.getVideoElement();c&&(this._overwriteVideoCurrentTimeProperty(a),this._didOverwriteVideoCurrentTimeProperty||(this.preventSeekLoggingInMixin=!0));this._lastStartTimePosition=m;this._muted=l(a);this._pausedPosition=m;this._seeking=!1;this._seekSourceTimePosition=m;this._currentTimeAtSeekStart=m;this._volume=a.volume;this._hasBlockedPausedRepresentationEnded=!1;this._logNextPlayingEvent=!0;this._lastPlayedTime=m;d=!1;a.readyState>=a.HAVE_FUTURE_DATA?this._logReadyToPlay():d=!0;if(this.skipSubscriptions())return;e=this.getSubscriptions();d&&e.addSubscriptions(g.listen(a,"canplay",this._logReadyToPlay.bind(this)));e.addSubscriptions(g.listen(a,"ended",this.onEnded.bind(this)),g.listen(a,"pause",this.onPause.bind(this)),g.listen(a,"playing",this.onPlaying.bind(this)),g.listen(a,"seeked",this.onSeeked.bind(this)),g.listen(a,"seeking",this.onSeeking.bind(this)),g.listen(a,"play",this.onPlay.bind(this)),g.listen(a,"loadedmetadata",this.onLoadedMetadata.bind(this)),g.listen(a,"timeupdate",this.onTimeUpdate.bind(this)),g.listen(a,"volumechange",this.onVolumeChange.bind(this)))},skipSubscriptions:function(){return!1},onCanPlay:function(a){this._logReadyToPlay(a)},onPlay:function(a){this._logNextPlayingEvent=!0,this._ignoreNextPlaying=!1,this._pendingPlayRequest=!0},logHeartbeat:function(){if(i.heartbeatUpdateWatchTime){this._logEvent(j.HEART_BEAT,this._getWatchTimeClosingLogData({}));var a=this._getVideoCurrentTime();this._lastStartTimePosition=a;this._lastPlayedTime=a}else this._logEvent(j.HEART_BEAT)},_getWatchTimeClosingLogData:function(a){this._lastPlayedTime=this._getVideoCurrentTime();return this._amendEventTime(babelHelpers["extends"]({video_last_start_time_position:this._lastStartTimePosition===m?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:this._lastPlayedTime},a))},_logOnce:function(event,a){if(this._loggedEvents[event])return;this._logEvent(event,a)},_logEvent:function(event,a){__p&&__p();this._loggedEvents[event]=!0;a=a?a:{};a.video_id=this.getVideoID();a.has_blocked_paused_representation_ended=this._hasBlockedPausedRepresentationEnded;Object.prototype.hasOwnProperty.call(a,"video_time_position")||(a.video_time_position=this._getVideoCurrentTime());a.time_ms||(a.time_ms=Date.now());a.time=Math.round(a.time_ms/1e3);if(this.getAdClientToken){var b=this.getAdClientToken();b&&(a.ad_client_token=b)}this.getPlayerFormat&&(a.player_format=this.getPlayerFormat());this.getPlayerOrigin&&(a.player_origin=this.getPlayerOrigin());this.getPlayerSuborigin&&(a.player_suborigin=this.getPlayerSuborigin());this._logFunction(event,a)},_logReadyToPlay:function(){this._logOnce(j.READY_TO_PLAY)},onPause:function(a){__p&&__p();this._logNextPlayingEvent=!0;var b=this.getVideoElement();if(this._pendingPlayRequest){var c={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=!1;this._logEvent(j.CANCELLED_REQUESTED_PLAYING,c);return}c=!!this._getVideoPlayerShakaConfig()&&this._getVideoPlayerShakaConfig().getBool("abort_loading_decisioning_logic",!1);var event=b.ended||c&&k.isEnded(a)?j.FINISHED_PLAYING:j.PAUSED;c=this._getVideoCurrentTime();c&&(this._lastPlayedTime=c);c=this._lastPlayedTime;var d=this._lastStartTimePosition===m?this._lastPlayedTime:this._lastStartTimePosition;i.preventNegativeTimePositions&&(this._lastPlayedTime<0&&(c=0,this._lastStartTimePosition<0&&(d=0)));var e=a.lastPauseReason;if(event===j.FINISHED_PLAYING)c=Math.max(c,b.duration);else if(this.preventPauseLoggingInMixin===!0)return;else this.preventPauseLoggingInMixin===!1&&(e=e||"unloaded");this._logEvent(event,this._amendEventTime({video_last_start_time_position:d,video_time_position:c,debug_reason:e},a));this._lastStartTimePosition=m},onEnded:function(){this._logNextPlayingEvent=!0,this._lastStartTimePosition!==m&&h.isBrowser("IE")&&this.onPause({})},onBlockedPausedRepresentationEnded:function(){this._hasBlockedPausedRepresentationEnded=!0},logRepresentationEnded:function(a){__p&&__p();if(a){a={representation_id:a.representationID,next_representation_id:a.nextRepresentationID,stream_switch_reason:a.streamSwitchReason};i.newStateChangeCalculation&&(a=this._getWatchTimeClosingLogData(a));this._logEvent(j.REPRESENTATION_ENDED,a);if(i.newStateChangeCalculation){a=this._getVideoCurrentTime();this._lastStartTimePosition=a;this._lastPlayedTime=a}}},addWatchTimeData:function(a){this._lastStartTimePosition!=m&&this._lastPlayedTime!=m&&(a.video_last_start_time_position=this._lastStartTimePosition,a.video_time_position=this._lastPlayedTime,this._lastStartTimePosition=m);return a},getLastPlayReason:function(){return null},getVideoPlayReason:function(){return null},onPlaying:function(a){__p&&__p();if(!this._logNextPlayingEvent)return;i.superficialUnpauseEventsFix&&(this._logNextPlayingEvent=!1);if(this._ignoreNextPlaying){this._ignoreNextPlaying=!1;return}var b=this.getLastPlayReason();this._pendingPlayRequest=!1;var event=this._loggedEvents[j.STARTED_PLAYING]?j.UNPAUSED:j.STARTED_PLAYING;b=this._amendEventTime({debug_reason:b,video_play_reason:this.getVideoPlayReason()},a);a=this._getVideoCurrentTime();if(i.useCurrentTimeAdjustment){var c=this.getVideoElement().currentTime;c=c-a;b.time_ms-=Math.round(c*1e3)}this._logEvent(event,b);this._lastStartTimePosition=a;this._lastPlayedTime=a;this._currentTimeAtLoadedMetadataCache=null},allowNextSeekInMixin:function(){this._allowNextSeek=!0},onSeeked:function(a){__p&&__p();this._seeking=!1;var b=this._seekSourceTimePosition;this._seekSourceTimePosition=m;var c=this._currentTimeAtSeekStart;this._currentTimeAtSeekStart=m;if(this.preventSeekLoggingInMixin&&!this._allowNextSeek){this._pendingPlayRequest||(this._ignoreNextPlaying=!0);return}this._allowNextSeek=!1;this._ignoreNextPlaying=!1;var d={video_seek_source_time_position:b,video_last_start_time_position:b};this._fixOvewrittenGetVideoCurrentTime&&(d.video_seek_source_time_position=c);this.preventSeekLoggingInMixin&&(this._lastStartTimePosition!==m?d.video_last_start_time_position=this._lastStartTimePosition:d.video_last_start_time_position=b);var event=j.SCRUBBED;this._fireSeekEvents&&(event=j.SEEKED,d={seek_from_video_time_position:c});this._logEvent(event,this._amendEventTime(d,a));b=this.getVideoElement();b.paused?this._lastStartTimePosition=m:this._lastStartTimePosition=this._getVideoCurrentTime()},onSeeking:function(a){this._currentTimeAtLoadedMetadataCache=null;this._seeking||(this._seekSourceTimePosition=this._getVideoCurrentTime(),this._seeking=!0);if(this._fixOverwrittenGetVideoCurrentTime)return;this._currentTimeAtSeekStart=m},onTimeUpdate:function(a){this._currentTimeAtLoadedMetadataCache=null;a=this.getVideoElement();a.paused||(this._lastPlayedTime=this._getVideoCurrentTime())},onVolumeChange:function(a){__p&&__p();var b=this.getVideoElement(),c={},event=null;if(i.useFixedVolumeLogging){var d=b.muted,e=this._muted,f=b.volume,g=this._volume;c.current_volume=Math.round(f*100);this._volume=f;this._muted=d;d=d||f==0;e=e||g==0;if(e&&d)return;if(e!=d)d?event=j.MUTED:event=j.UNMUTED;else{if(g==f)return;f<g?event=j.VOLUME_DECREASE:event=j.VOLUME_INCREASE}}else b.muted!==this._muted&&b.volume===this._volume&&b.volume>0?event=b.muted?j.MUTED:j.UNMUTED:(event=b.volume>this._volume?j.VOLUME_INCREASE:j.VOLUME_DECREASE,c.current_volume=Math.round(b.volume*100)),this._muted=b.muted,this._volume=b.volume;this._logEvent(event,this._amendEventTime(c,a))},_amendEventTime:function(a,event){var b=this._useEventTime;i.fixEventTimeLogging&&(b=b&&event);if(b)return o(a,event);else a.time_ms=Date.now();return a},_getVideoCurrentTime:function(){var a;this._fixOverwrittenGetVideoCurrentTime?a=this.getVideoElement().currentTime:a=this._currentTimeAtSeekStart===m?this.getVideoElement().currentTime:this._currentTimeAtSeekStart;a=a.toFixed(2);i.useCurrentTimeAdjustment&&(this._currentTimeAtLoadedMetadataCache!=null&&(a=this._currentTimeAtLoadedMetadataCache.toFixed(2)));return i.fixCurrentTimeType?+a:a},_getVideoPlayerShakaConfig:function(){return this.getVideoPlayerShakaConfig&&typeof this.getVideoPlayerShakaConfig==="function"?this.getVideoPlayerShakaConfig():null},onLoadedMetadata:function(a){this._currentTimeAtLoadedMetadataCache=this.getVideoElement().currentTime},_overwriteVideoCurrentTimeProperty:function(a){__p&&__p();this._didOverwriteVideoCurrentTimeProperty=!1;try{var b=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");if(!b)return;if(typeof b.get!=="function"||typeof b.set!=="function")return;Object.defineProperty&&Object.defineProperty(a,"currentTime",{get:function(){return b.get.call(this)},set:function(c){this._currentTimeAtSeekStart===m&&(this._currentTimeAtSeekStart=b.get.call(a)),b.set.call(a,c)}.bind(this),configurable:!0,enumerable:!0});this._didOverwriteVideoCurrentTimeProperty=!0}catch(a){}}};e.exports=a}),null);
__d("HVideoPlayerLoggerMixin",["EventListener","HVideoPlayerMixin","VideoPlayerLogger","VideoPlayerLoggerEvent"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();a={};b={initLogger:function(){__p&&__p();g.listen(this.getVideoElement(),"play",function(){return this._onPlayLogUnmute()}.bind(this));this._logger=new i(i.Sources.HTML5);var a=function(event,a){var b=this.getSavedOffline(),c=this.getConnectivityType(),d=this.getResourceUrl(),e=this.getIsAdsPreview();a=babelHelpers["extends"]({},a,{saved_offline:b,connectivity_type:c,resource_url:d,is_ads_preview:e});event===j.UNMUTED&&(this._unmutedWasLogged=!0);a=Object.assign(a,this.getAdditionalLogData(event));this._logger.logEvent(event,a)}.bind(this);h.initLogger.call(this,a)},_onPlayLogUnmute:function(){var a=this.getLastPlayReason();!this._unmutedWasLogged&&this.getVideoElement()&&!this.getVideoElement().muted&&a=="user_initiated"&&this._logEvent(j.UNMUTED)},getLogger:function(){return this._logger},getAdClientToken:function(){var a=this.getVideoData();return a.adClientToken?a.adClientToken:null},getSavedOffline:function(){return null},logDisplayed:function(){this._logEvent(j.DISPLAYED,{is_auto_played:!0})},logPauseEvent:function(a){this.onPause(a?a:{})},logEvent:function(event,a){this._logEvent(event,a)}};Object.assign(a,h);Object.assign(a,b);e.exports=a}),null);
__d("MInlineVideoDebugger",["CSS","DOM","MVideoUtils"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();function a(a,b){"use strict";this.$6=b,this.$7(a),this.$8(),this.$9(),this.$10(),this.$11()}a.prototype.$7=function(a){"use strict";this.$1=h.create("div"),g.conditionClass(this.$1,i.DEBUGGER_CLASS,!0),h.insertAfter(a,this.$1)};a.prototype.$8=function(){"use strict";this.$2=h.create("div"),h.appendContent(this.$1,this.$2)};a.prototype.$9=function(){"use strict";this.$3=h.create("div"),h.appendContent(this.$1,this.$3)};a.prototype.$10=function(){"use strict";this.$4=h.create("div"),h.appendContent(this.$1,this.$4)};a.prototype.$11=function(){"use strict";this.$5=h.create("div"),h.appendContent(this.$1,this.$5),this.updateVideoIdDebugger(this.$6.videoID)};a.prototype.updateViewabilityLoggingDebugger=function(a){"use strict";h.setContent(this.$2,"viewability:"+a)};a.prototype.updatePlayerStateDebugger=function(a){"use strict";h.setContent(this.$3,"player state:"+a)};a.prototype.updateLastActionReasonDebugger=function(a){"use strict";h.setContent(this.$4,"lastActionReason:"+a)};a.prototype.updateVideoIdDebugger=function(a){"use strict";h.setContent(this.$5,"video ID:"+a)};a.prototype.cleanUp=function(){"use strict";h.remove(this.$1)};e.exports=a}),null);
__d("SubRipText",[],(function(a,b,c,d,e,f){__p&&__p();var g={size:"90%"};function h(a){__p&&__p();var b=Number(a.substr(0,a.length-1)),c=a.substr(-1);switch(c){case"s":return b;case"m":return b*60;case"h":return b*3600}c=a.split(":");b=Number(c[c.length-1].replace(/,/,"."));c.length>1&&(b+=Number(c[c.length-2])*60);c.length>2&&(b+=Number(c[c.length-3])*3600);return b}function i(a){__p&&__p();a=a.split(/\r\n|\r|\n/).map(function(a){return a.trim()});var b=[],c=0;do{var d=a.indexOf("",c);d<0&&(d=a.length);var e=k(a.slice(c,d));e&&b.push(e);c=d+1}while(c>0&&c<a.length);return b}function j(a){a=a.split("-->");if(a.length!=2)return null;var b=h(a[0].trim());a=h(a[1].trim());return Number.isNaN(a)||Number.isNaN(b)?null:{begin:b,end:a}}function k(a){if(a.length<3)return null;var b=l(a[0]),c=j(a[1]);return!c?null:{counter:b,begin:c.begin,end:c.end,text:a.slice(2,6)}}function l(a){return Number(a.trim())}function m(a){a=a.split(".");return a[0].length<2?"0"+a.join("."):a.join(".")}function n(a){var b=m(Math.floor(a/3600).toString()),c=m(Math.floor(a%3600/60).toString());a=m((a%60).toFixed(3));return b+":"+c+":"+a}function o(a,b,c){var d="";if(c)for(var e in c)d+=" "+e+":"+c[e];return n(a)+" --> "+n(b)+d}function p(a,b){return a.counter+"\n"+o(a.begin,a.end,b)+"\n"+a.text.join("\n")+"\n"}function q(a,b){return"WEBVTT\n\n"+a.map(function(a){return p(a,b)}).join("\n")}function a(a){"use strict";this.$1=i(a),this.$1.sort(function(a,b){return a.counter-b.counter}),this.$2=this.$1.map(function(a,b){return b}).sort(function(a,b){return this.$1[a].begin-this.$1[b].begin}.bind(this)),this.invalidateCache(),this.$6=g}a.prototype.$7=function(a){"use strict";return this.$1[this.$2[a]]};a.prototype.$8=function(a){"use strict";var b=this.$3;while(b<this.$2.length){var c=this.$7(b);if(c.begin<=a)this.$4.push(c),b++;else break}this.$3=b};a.prototype.$9=function(a){"use strict";this.$4=this.$4.filter(function(b){return b.end>a})};a.prototype.invalidateCache=function(){"use strict";this.$5=0,this.$4=[],this.$3=0};a.prototype.setStyle=function(a){"use strict";this.$6=a};a.prototype.getSubtitles=function(a){"use strict";a<this.$5&&this.invalidateCache();this.$5=a;this.$8(a);this.$9(a);return this.$4.reduce(function(a,b){return a.concat(b.text)},[])};a.prototype.renderVTT=function(){"use strict";return q(this.$1,this.$6)};e.exports=a}),null);
__d("MVideoSubtitles",["DOM","EventListener","SubRipText","XHRRequest","emptyFunction","fbt","getCrossOriginTransport"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();var n=a.URL||a.webkitURL;function b(a){"use strict";this.$1=a,this.$2=k}b.prototype.$3=function(a){"use strict";a=new i(a);a=new Blob([a.renderVTT()],{type:"text/vtt"});return n.createObjectURL(a)};b.prototype.loadSubtitles=function(a){"use strict";if(!n)return;new j(a).setTransportBuilder(m).setMethod("GET").setResponseHandler(function(a){this.$4(this.$3(a))}.bind(this)).send()};b.prototype.$4=function(a){"use strict";a=g.create("track",{label:l._("Ativado"),kind:"captions",src:a});h.listen(a,"load",function(){this.$2()}.bind(this));g.appendContent(this.$1,a);this.hideSubtitles()};b.prototype.showSubtitles=function(){"use strict";Array.prototype.forEach.call(this.$1.textTracks,function(a){return a.mode="showing"})};b.prototype.hideSubtitles=function(){"use strict";Array.prototype.forEach.call(this.$1.textTracks,function(a){return a.mode="hidden"})};b.prototype.setOnSubtitlesReady=function(a){"use strict";this.$2=a};e.exports=b}),null);
__d("VideoViewabilityPercentage",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OFFSCREEN:-2,VIEWABLE_UNKNOWN:-1,VIEWABLE_0:0,VIEWABLE_25:25,VIEWABLE_50:50,VIEWABLE_75:75,VIEWABLE_100:100})}),null);
__d("MVideoViewability",["MFullScreen","VideoViewabilityPercentage","Visibility","getElementPosition","getViewportDimensions"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l={shouldLog:function(a){return!!a&&a.videoViewabilityLoggingEnabled&&a.videoViewabilityLoggingPollingRate>0},calculateViewabilityPercentage:function(a){__p&&__p();if(g.isFullScreen())return h.VIEWABLE_100;if(i.isHidden())return h.OFFSCREEN;a=l.calculateViewabilityPercentageNumber(j(a));if(a===0)return h.OFFSCREEN;else if(a<25)return h.VIEWABLE_0;else if(a<50)return h.VIEWABLE_25;else if(a<75)return h.VIEWABLE_50;else if(a<100)return h.VIEWABLE_75;else return h.VIEWABLE_100},calculateViewabilityPercentageNumber:function(a){var b=k().width,c=k().height;if(a.width===0||a.height===0)return 0;var d=a.x,e=a.x+a.width,f=a.y,g=a.y+a.height;if(e<=0||d>=b||g<=0||f>=c)return 0;e=Math.min(e,b)-Math.max(d,0);b=Math.min(g,c)-Math.max(f,0);return e*b*100/(a.width*a.height)}};e.exports=l}),null);
__d("VideoPlayerReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTOPLAY:"autoplay_initiated",COMMERCIAL_BREAK:"commercial_break",CONNECTION:"host-connection-error",EMBEDDED_VIDEO_API:"embedded_video_api_initiated",FALLBACK_MODE:"fallback_mode",HOVER:"hover",LOOP:"loop_initiated",NETWORK_INTERRUPTED:"network_interrupted",NETWORK_RESUMED:"network_resumed",PAGE_VISIBILITY:"page_visibility_initiated",SEEK:"seek_initiated",SPHERICAL_FALLBACK:"spherical_fallback",SPHERICAL_SWITCH_CANVAS:"spherical_switch_canvas",SPHERICAL_FAILED:"spherical_failed",UNLOADED:"unloaded",USER:"user_initiated",VIDEO_DATA_REPLACED:"video_data_replaced",VIDEO_DATA_SWITCH:"video_data_switch",VIDEO_VISIBILITY:"video_visibility_initiated",VOD_NOT_READY:"vod_not_ready",WARNING_SCREEN_COVER:"warning_screen_cover"})}),null);
__d("VideoPlayerVersions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({HTML5:"html5",PLEASANTVILLE:"pleasantville",REACT:"react",REACT_PLEASANTVILLE:"react_pleasantville",REACT_SILVERCITY:"react_silvercity",SILVERCITY:"silvercity",OZ:"oz",REACT_OZ:"react_oz",OLD_API_EXO:"old_api_exo",OLD_API_EXO_DEPRECATED:"old_api_exo_deprecated",OLD_API_EXO_NEW_LIB:"old_api_exo_new_lib",OLD_API_PSR:"old_api_psr",HEROPLAYER:"heroplayer",HEROPLAYER2:"heroplayer2",FNF:"fnf",LEGACY:"legacy",REFACTORED:"refactored",MBASIC:"mbasic",MTOUCH_SHAKA_LIVE:"mtouch_shaka_live",MTOUCH_SPHERICAL:"mtouch_360",MTOUCH_OZ:"mtouch_oz",CASTING_DEBUG:"casting_debug",CHROMECAST:"chromecast",WEBAPIS_AVPLAY:"webapis_avplay",FBLITE_LEGACY:"fblite_legacy",FBLITE_SURFACE:"fblite_surface",FBLITE_TEXTURE:"fblite_texture",HERO_SURFACE:"hero_surface",HERO_TEXTURE:"hero_texture",UNKNOWN:"unknown"})}),null);
__d("MVideoPlayerApiBase",["Promise","BanzaiODS","Bootloader","CSS","DataAttributeUtils","DOM","EventListener","HVideoPlayerLoggerMixin","MFullScreen","MInlineVideoDebugger","MParent","MVideoCache","MVideoExperiments","MVideoSubtitles","MVideoUtils","MVideoViewability","Stratcom","StratcomManager","SubscriptionsHandler","URI","VideoPlayerLoggerEvent","VideoPlayerLoggerEventField","VideoPlayerReason","VideoPlayerVersions","VideoViewabilityKeyEvents","clearInterval","invariant","isCdnURI","mixin","oz-player/loggings/OzPreInitLogger","setInterval","setTimeoutAcrossTransitions","throttle"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M){__p&&__p();var N,O=J.OzPreInitLoggerProvider,P={CONSTRUCTED:"constructed",INIT_DONE:"init_done",CREATED:"created",FIRST_PLAYING:"first_playing",PLAYING:"playing",CANCELLED_REQUEST_PLAYING:"cancelled_request_playing",PAUSE_WITHOUT_PLAY:"pause_without_play",PAUSED:"paused",ENDED:"ended",FIRST_REQUESTED_PLAYING:"first_requested_playing",REQUESTED_PLAYING:"requested_playing",FIRST_VIDEO_PLAY:"first_video_play",VIDEO_PLAY:"video_play",RESCHEDULE_VIDEO_PLAY:"reschedule_video_play",REQUESTED_PAUSE_BEFORE_STARTED_PLAYING:"requested_pause_before_started_playing",REQUESTED_PAUSE:"requested_pause",DESTROYED_REQUESTED_PLAYING:"destroyed_requested_playing",DESTROY:"destroy"},Q=["canplay","play","seeked","seeking"],R=100,S=1e3/15,T=3e4;b=babelHelpers.inherits(a,I(n));N=b&&b.prototype;function a(a){"use strict";__p&&__p();N.constructor.call(this),this.$MVideoPlayerApiBase26=!0,this.$MVideoPlayerApiBase48=function(){var a=this.getVideoElement();w.invoke("m:video:player:fullscreenchange",null,{videoElement:this.$MVideoPlayerApiBase1,player:a});var b=o.isFullScreen();s.do_not_stretch_fullscreen&&j.conditionClass(a,u.FULL_WIDTH_PLAYER_CLASS,!b);this.logEvent(b?A.ENTERED_FS:A.EXITED_FS)}.bind(this),this.$MVideoPlayerApiBase36=function(){w.invoke("m:video:player:play",null,{videoElement:this.$MVideoPlayerApiBase1,player:this.getVideoElement()}),this.toggleClassOnMVideoElement(u.SHOW_PAUSE_CLASS,!1),this.$MVideoPlayerApiBase49(),this.$MVideoPlayerApiBase31(C.USER)}.bind(this),this.$MVideoPlayerApiBase37=function(){this.$MVideoPlayerApiBase35(P.FIRST_PLAYING),this.$MVideoPlayerApiBase29(P.PLAYING),this.$MVideoPlayerApiBase9=!1,w.invoke("m:video:player:playing",null,{videoElement:this.$MVideoPlayerApiBase1,player:this.getVideoElement()}),this.hideLoadingSpinner(),this.$MVideoPlayerApiBase50(),this.$MVideoPlayerApiBase22&&this.$MVideoPlayerApiBase22.log(),this.$MVideoPlayerApiBase22=null,this.heartbeatEnabled()&&this.$MVideoPlayerApiBase51()}.bind(this),this.$MVideoPlayerApiBase38=function(a){this.$MVideoPlayerApiBase52(),this.$MVideoPlayerApiBase9=!1,this.$MVideoPlayerApiBase22&&(this.$MVideoPlayerApiBase22.setResult("aborted").log(),this.$MVideoPlayerApiBase22=null),this.$MVideoPlayerApiBase20=!1,w.invoke("m:video:player:pause",null,{videoElement:this.$MVideoPlayerApiBase1,player:this.getVideoElement(),destroyed:a}),s.mtouch_prevent_consequent_calls||this.$MVideoPlayerApiBase53(!1),this.hideLoadingSpinner(),this.$MVideoPlayerApiBase54(),this.$MVideoPlayerApiBase55(),this.$MVideoPlayerApiBase56(),this.$MVideoPlayerApiBase23&&(this.$MVideoPlayerApiBase23.log(),this.$MVideoPlayerApiBase23=null)}.bind(this),this.$MVideoPlayerApiBase39=function(){this.$MVideoPlayerApiBase29(P.ENDED),w.invoke("m:video:player:ended",null,{videoElement:this.$MVideoPlayerApiBase1,player:this.getVideoElement()}),this.$MVideoPlayerApiBase9=!1,this.$MVideoPlayerApiBase54(),this.$MVideoPlayerApiBase3.playOnClick&&this.$MVideoPlayerApiBase3.playInFullScreen&&o.isSupported()&&o.disableFullScreen()}.bind(this),this.$MVideoPlayerApiBase40=function(){this.showLoadingSpinner()}.bind(this),this.$MVideoPlayerApiBase44=function(){this.$MVideoPlayerApiBase9=!0}.bind(this),this.$MVideoPlayerApiBase45=function(){this.$MVideoPlayerApiBase9=!1,this.$MVideoPlayerApiBase7&&(this.$MVideoPlayerApiBase8=!0,this.$MVideoPlayerApiBase54(),this.logPauseEvent({lastPauseReason:C.SEEK}))}.bind(this),this.$MVideoPlayerApiBase41=function(){if(this.$MVideoPlayerApiBase25){this.$MVideoPlayerApiBase25=!1;return}w.invoke("m:video:player:volumechange",null,{videoElement:this.$MVideoPlayerApiBase1,player:this.getVideoElement()})}.bind(this),this.$MVideoPlayerApiBase42=function(){this.hideLoadingSpinner()}.bind(this),this.$MVideoPlayerApiBase46=function(){!this.$MVideoPlayerApiBase6&&this.getLastActionReason()===C.PAGE_VISIBILITY&&this.play(C.USER)}.bind(this),this.$MVideoPlayerApiBase47=function(){this.$MVideoPlayerApiBase6&&this.pause(C.PAGE_VISIBILITY)}.bind(this),this.$MVideoPlayerApiBase43=function(){this.$MVideoPlayerApiBase3.playStartSec&&this.$MVideoPlayerApiBase3.playStartSec>0&&(this.getVideoElement().currentTime=this.$MVideoPlayerApiBase3.playStartSec)}.bind(this),this.$MVideoPlayerApiBase57=function(){var a=this.$MVideoPlayerApiBase14;this.$MVideoPlayerApiBase60();if(this.$MVideoPlayerApiBase14!==a){this.logEvent(A.VIEWABILITY_CHANGED,(a={},a[B.CURRENT_VIEWABILITY_PERCENTAGE]=this.$MVideoPlayerApiBase14,a))}}.bind(this),this.hideLoadingSpinner=function(){this.toggleClassOnMVideoElement(u.LOADING_CLASS,!1)}.bind(this),this.showLoadingSpinner=function(){this.toggleClassOnMVideoElement(u.LOADING_CLASS,!0)}.bind(this),this.toggleVideoQuality=function(){},this.getVideoQuality=function(){return this.$MVideoPlayerApiBase3.defaultQuality}.bind(this),this.$MVideoPlayerApiBase64=function(){if(!this.$MVideoPlayerApiBase7||!this.getVideoElement()){this.$MVideoPlayerApiBase56();return}this.logHeartbeat()}.bind(this),this.$MVideoPlayerApiBase1=a,this.$MVideoPlayerApiBase3=u.getVideoDataFromMVideo(this.$MVideoPlayerApiBase1),this.$MVideoPlayerApiBase3[u.API_INSTANCE_KEY]=this,this.$MVideoPlayerApiBase21=new O(),this.$MVideoPlayerApiBase16=M.withBlocking(this.$MVideoPlayerApiBase27,S,this),this.$MVideoPlayerApiBase17=M.withBlocking(this.$MVideoPlayerApiBase28,S,this)}a.prototype.setup=function(){"use strict"};a.prototype.init=function(a){"use strict";this.reset(),this.$MVideoPlayerApiBase26=!1,a&&(this.$MVideoPlayerApiBase2=a),this.$MVideoPlayerApiBase29(P.CONSTRUCTED),this.$MVideoPlayerApiBase3.videoInitSeqID===null||this.$MVideoPlayerApiBase3.videoInitSeqID===undefined?this.$MVideoPlayerApiBase3.videoInitSeqID=0:this.$MVideoPlayerApiBase3.videoInitSeqID=1+this.$MVideoPlayerApiBase3.videoInitSeqID,this.$MVideoPlayerApiBase4=new y(),this.prepareDOMNode(),Q.forEach(function(event){x.enableDispatch(this.getVideoElement(),event)}.bind(this)),this.$MVideoPlayerApiBase30(),this.$MVideoPlayerApiBase31(a),this.$MVideoPlayerApiBase32(),this.$MVideoPlayerApiBase3.videoDebuggerEnabled&&(this.$MVideoPlayerApiBase10=new p(this.$MVideoPlayerApiBase1,this.$MVideoPlayerApiBase3),this.$MVideoPlayerApiBase10.updateLastActionReasonDebugger(this.getLastActionReason())),this.$MVideoPlayerApiBase13=v.shouldLog(this.$MVideoPlayerApiBase3),this.$MVideoPlayerApiBase3.loop&&(this.getVideoElement().setAttribute("loop","true"),this.getVideoElement().loop=!0),this.$MVideoPlayerApiBase29(P.INIT_DONE),this.postInit(),this.$MVideoPlayerApiBase29(P.CREATED)};a.prototype.$MVideoPlayerApiBase30=function(){"use strict";this.initLogger();var a=q.bySigil(this.$MVideoPlayerApiBase1,"story-div");if(a){a=k.getDataFt(a);a={ft:JSON.parse(a)};this.getLogger().setFTData(a)}};a.prototype.$MVideoPlayerApiBase33=function(){"use strict";var a;this.$MVideoPlayerApiBase3.videoElement?this.$MVideoPlayerApiBase3.videoElement:(this.$MVideoPlayerApiBase29("create_new_video_node"),a=u.createVideoNode(),this.$MVideoPlayerApiBase3.videoElement=a)};a.prototype.$MVideoPlayerApiBase34=function(a){"use strict";return this.$MVideoPlayerApiBase19.has(a)};a.prototype.$MVideoPlayerApiBase35=function(a){"use strict";this.$MVideoPlayerApiBase29(a,!0)};a.prototype.$MVideoPlayerApiBase29=function(a,b){b===void 0&&(b=!1);if(!s.mtouch_enable_playback_funnel_counters)return;var c=this.getPlayerVersion();if(b&&this.$MVideoPlayerApiBase34(a))return;this.$MVideoPlayerApiBase19.add(a);h.bumpEntityKey("mtouch_video."+c+"."+this.$MVideoPlayerApiBase2,a)};a.prototype.reset=function(){"use strict";this.$MVideoPlayerApiBase26||G(0,5251),this.$MVideoPlayerApiBase2=C.USER,this.$MVideoPlayerApiBase5=!0,this.$MVideoPlayerApiBase6=!1,this.$MVideoPlayerApiBase7=!1,this.$MVideoPlayerApiBase8=!1,this.$MVideoPlayerApiBase9=!1,this.$MVideoPlayerApiBase10=null,this.$MVideoPlayerApiBase11=C.USER,this.$MVideoPlayerApiBase12=undefined,this.$MVideoPlayerApiBase13=!1,this.$MVideoPlayerApiBase14=undefined,this.$MVideoPlayerApiBase15=undefined,this.$MVideoPlayerApiBase18=undefined,this.$MVideoPlayerApiBase19=new Set([]),this.$MVideoPlayerApiBase20=!1,this.$MVideoPlayerApiBase22=undefined,this.$MVideoPlayerApiBase23=undefined,this.$MVideoPlayerApiBase24=undefined,this.$MVideoPlayerApiBase25=!1};a.prototype.postInit=function(){"use strict"};a.prototype.prepareDOMNode=function(){"use strict";this.$MVideoPlayerApiBase3.videoElement&&this.$MVideoPlayerApiBase29("consume_precreated_video_node");this.$MVideoPlayerApiBase33();var a=this.getVideoElement();a.controls=!(s.enableSphericalVideo&&this.$MVideoPlayerApiBase3.spherical)&&!this.$MVideoPlayerApiBase3.disableVideoControls;l.prependContent(this.$MVideoPlayerApiBase1,a);a.setAttribute("playInFullScreen",this.$MVideoPlayerApiBase3.playInFullScreen);!this.$MVideoPlayerApiBase3.playInFullScreen&&this.$MVideoPlayerApiBase3.shouldPlayInline&&a.setAttribute("playsinline","true");this.$MVideoPlayerApiBase3.muted&&(a.muted=!0,this.shouldIgnoreInitialMuteOperation()&&(this.$MVideoPlayerApiBase25=!0))};a.prototype.$MVideoPlayerApiBase32=function(){"use strict";this.$MVideoPlayerApiBase4.addSubscriptions(w.listen("m:page:unload",null,function(){this.release(),w.removeCurrentListener()}.bind(this)));var a=this.getVideoElement();this.$MVideoPlayerApiBase4.addSubscriptions(m.listen(a,"play",this.$MVideoPlayerApiBase36),m.listen(a,"playing",this.$MVideoPlayerApiBase37),m.listen(a,"pause",this.$MVideoPlayerApiBase38),m.listen(a,"ended",this.$MVideoPlayerApiBase39),m.listen(a,"waiting",this.$MVideoPlayerApiBase40),m.listen(a,"timeupdate",this.onTimeUpdate.bind(this)),m.listen(a,"volumechange",this.$MVideoPlayerApiBase41),m.listen(a,"canplay",this.$MVideoPlayerApiBase42),m.listen(a,"loadedmetadata",this.$MVideoPlayerApiBase43),m.listen(this.getVideoElement(),"contextmenu",function(a){a.preventDefault()}));s.use_shared_seeking||this.$MVideoPlayerApiBase4.addSubscriptions(m.listen(a,"seeked",this.$MVideoPlayerApiBase44),m.listen(a,"seeking",this.$MVideoPlayerApiBase45));this.$MVideoPlayerApiBase3.videoPlayerPauseWhenBlur&&this.$MVideoPlayerApiBase4.addSubscriptions(m.listen(window,"focus",this.$MVideoPlayerApiBase46),m.listen(window,"blur",this.$MVideoPlayerApiBase47));o.isSupported()&&this.$MVideoPlayerApiBase4.addSubscriptions(o.listenForFullScreenEvent(window,this.$MVideoPlayerApiBase48))};a.prototype.$MVideoPlayerApiBase52=function(){"use strict";this.$MVideoPlayerApiBase34(P.FIRST_REQUESTED_PLAYING)?this.$MVideoPlayerApiBase34(P.FIRST_PLAYING)||this.$MVideoPlayerApiBase35(P.CANCELLED_REQUEST_PLAYING):this.$MVideoPlayerApiBase29(P.PAUSE_WITHOUT_PLAY),this.$MVideoPlayerApiBase29(P.PAUSED)};a.prototype.$MVideoPlayerApiBase49=function(){"use strict";this.$MVideoPlayerApiBase13&&(this.$MVideoPlayerApiBase15=K(this.$MVideoPlayerApiBase57,this.$MVideoPlayerApiBase3.videoViewabilityLoggingPollingRate))};a.prototype.$MVideoPlayerApiBase55=function(){"use strict";F(this.$MVideoPlayerApiBase15)};a.prototype.onTimeUpdate=function(a){"use strict";this.$MVideoPlayerApiBase8&&this.$MVideoPlayerApiBase9&&(this.$MVideoPlayerApiBase9=!1,this.$MVideoPlayerApiBase58()),this.$MVideoPlayerApiBase16(),this.$MVideoPlayerApiBase17()};a.prototype.$MVideoPlayerApiBase58=function(){"use strict";this.$MVideoPlayerApiBase31(C.SEEK),this.onPlaying(),this.$MVideoPlayerApiBase50(),this.$MVideoPlayerApiBase8=!1};a.prototype.$MVideoPlayerApiBase50=function(){"use strict";this.$MVideoPlayerApiBase7=!0};a.prototype.$MVideoPlayerApiBase54=function(){"use strict";this.$MVideoPlayerApiBase7=!1};a.prototype.$MVideoPlayerApiBase59=function(){"use strict";this.$MVideoPlayerApiBase10&&this.$MVideoPlayerApiBase10.updateViewabilityLoggingDebugger(this.$MVideoPlayerApiBase14)};a.prototype.$MVideoPlayerApiBase60=function(){"use strict";var a=v.calculateViewabilityPercentage(this.$MVideoPlayerApiBase1);this.$MVideoPlayerApiBase14!==a&&(this.$MVideoPlayerApiBase14=a,this.$MVideoPlayerApiBase59())};a.prototype.$MVideoPlayerApiBase27=function(){"use strict";this.$MVideoPlayerApiBase3.playEndSec&&this.getVideoElement().currentTime>this.$MVideoPlayerApiBase3.playEndSec&&!this.$MVideoPlayerApiBase3.loop&&this.pause()};a.prototype.$MVideoPlayerApiBase28=function(){"use strict";if(this.$MVideoPlayerApiBase3.loop&&(this.$MVideoPlayerApiBase3.playStartSec||this.$MVideoPlayerApiBase3.playEndSec)&&(this.$MVideoPlayerApiBase3.playEndSec&&this.getVideoElement().currentTime>this.$MVideoPlayerApiBase3.playEndSec||this.$MVideoPlayerApiBase3.playStartSec&&this.getVideoElement().currentTime==0)){var a=this.$MVideoPlayerApiBase3.playStartSec||0;this.getVideoElement().currentTime=a}};a.prototype.isVisible=function(){"use strict";return this.$MVideoPlayerApiBase5};a.prototype.show=function(a){a===void 0&&(a=!0),this.$MVideoPlayerApiBase5=!0,j.conditionClass(this.$MVideoPlayerApiBase1,u.SHOWN_CLASS,!0),this.$MVideoPlayerApiBase61(),a&&this.$MVideoPlayerApiBase62()};a.prototype.hide=function(){"use strict";this.$MVideoPlayerApiBase5=!1,j.conditionClass(this.$MVideoPlayerApiBase1,u.SHOWN_CLASS,!1)};a.prototype.$MVideoPlayerApiBase31=function(a){"use strict";if(this.$MVideoPlayerApiBase20)return;this.$MVideoPlayerApiBase35(P.FIRST_REQUESTED_PLAYING);this.$MVideoPlayerApiBase29(P.REQUESTED_PLAYING);this.$MVideoPlayerApiBase20=!0;var b=a?{debug_reason:a}:null;this.logEvent(A.REQUESTED_PLAYING,b);this.$MVideoPlayerApiBase22||(this.$MVideoPlayerApiBase22=this.$MVideoPlayerApiBase21.getOperationLogger("requested_playing").start().setInitiator(a))};a.prototype.shouldDisablePlayDelay=function(){"use strict";return!1};a.prototype.shouldIgnoreInitialMuteOperation=function(){"use strict";return!1};a.prototype.play=function(a){"use strict";__p&&__p();if(s.mtouch_prevent_consequent_calls&&this.$MVideoPlayerApiBase6)return;a&&this.setLastActionReason(a);this.$MVideoPlayerApiBase31(a);this.$MVideoPlayerApiBase53(!0);if(s.isKaiOS||this.shouldDisablePlayDelay())this.$MVideoPlayerApiBase35(P.FIRST_VIDEO_PLAY),this.$MVideoPlayerApiBase29(P.VIDEO_PLAY),this.attemptVideoElementPlay();else{if(this.$MVideoPlayerApiBase12)return;this.$MVideoPlayerApiBase12=L(function(){this.$MVideoPlayerApiBase12=null,this.$MVideoPlayerApiBase35(P.FIRST_VIDEO_PLAY),this.$MVideoPlayerApiBase29(P.VIDEO_PLAY),this.attemptVideoElementPlay()}.bind(this),R)}};a.prototype.attemptVideoElementPlay=function(){"use strict";this.getVideoElement().play()};a.prototype.pause=function(a){"use strict";__p&&__p();if(s.mtouch_prevent_consequent_calls&&!this.$MVideoPlayerApiBase6)return;this.$MVideoPlayerApiBase23=this.$MVideoPlayerApiBase21.getOperationLogger("pause").start().setInitiator(a);this.$MVideoPlayerApiBase34(P.FIRST_REQUESTED_PLAYING)&&!this.$MVideoPlayerApiBase34(P.FIRST_PLAYING)&&this.$MVideoPlayerApiBase35(P.REQUESTED_PAUSE_BEFORE_STARTED_PLAYING);this.$MVideoPlayerApiBase29(P.REQUESTED_PAUSE);a&&this.setLastActionReason(a);this.$MVideoPlayerApiBase53(!1);this.getVideoElement().pause();this.$MVideoPlayerApiBase12&&(window.clearTimeout(this.$MVideoPlayerApiBase12),this.$MVideoPlayerApiBase12=null);this.toggleClassOnMVideoElement(u.SHOW_PAUSE_CLASS,!0)};a.prototype.unload=function(){"use strict";__p&&__p();this.$MVideoPlayerApiBase34(P.FIRST_REQUESTED_PLAYING)&&!this.$MVideoPlayerApiBase34(P.FIRST_PLAYING)&&this.$MVideoPlayerApiBase29(P.DESTROYED_REQUESTED_PLAYING);this.$MVideoPlayerApiBase38(!0);this.logPauseEvent();this.$MVideoPlayerApiBase63();this.pause(C.UNLOADED);w.invoke("m:video:player:destroy",null,{videoElement:this.$MVideoPlayerApiBase1,player:this.getVideoElement()});var a=this.getVideoElement();this.$MVideoPlayerApiBase3.videoElement=null;this.$MVideoPlayerApiBase10&&(this.$MVideoPlayerApiBase10.cleanUp(),this.$MVideoPlayerApiBase10=null);this.$MVideoPlayerApiBase18&&(this.$MVideoPlayerApiBase18.unload(),this.$MVideoPlayerApiBase18=null);this.release();this.hide();a&&(a.setAttribute("src",""),a.load&&a.load());a=null;this.$MVideoPlayerApiBase29(P.DESTROY);this.$MVideoPlayerApiBase21.deactivate();this.$MVideoPlayerApiBase26=!0};a.prototype.destroy=function(){"use strict";this.unload(),delete this.$MVideoPlayerApiBase3[u.API_INSTANCE_KEY]};a.prototype.$MVideoPlayerApiBase63=function(){"use strict";l.remove(this.getVideoElement());while(this.getVideoElement().hasChildNodes())this.getVideoElement().removeChild(this.getVideoElement().lastChild);this.getVideoElement().removeAttribute("src")};a.prototype.release=function(){"use strict";this.$MVideoPlayerApiBase4.release(),F(this.$MVideoPlayerApiBase15)};a.prototype.getPreInitLoggerProvider=function(){"use strict";return this.$MVideoPlayerApiBase21};a.prototype.$MVideoPlayerApiBase61=function(){"use strict";this.$MVideoPlayerApiBase3.width&&this.getVideoElement().setAttribute("width",this.$MVideoPlayerApiBase3.width),this.$MVideoPlayerApiBase3.height&&this.getVideoElement().setAttribute("height",this.$MVideoPlayerApiBase3.height)};a.prototype.getDimensions=function(){"use strict";var a=this.getVideoElement();return{width:Number(this.$MVideoPlayerApiBase3.width||a.width),height:Number(this.$MVideoPlayerApiBase3.height||a.height)}};a.prototype.$MVideoPlayerApiBase62=function(){"use strict";if(!H(new z(this.$MVideoPlayerApiBase3.subtitlesSrc)))return;var a=new t(this.getVideoElement());a.setOnSubtitlesReady(function(){return a.showSubtitles()});a.loadSubtitles(this.$MVideoPlayerApiBase3.subtitlesSrc)};a.prototype.toggleClassOnMVideoElement=function(a,b){"use strict";j.conditionClass(this.$MVideoPlayerApiBase1,a,b)};a.prototype.hasActivePlayer=function(){"use strict";return this.$MVideoPlayerApiBase5&&this.getVideoElement().parentNode===this.$MVideoPlayerApiBase1};a.prototype.getVideoData=function(){"use strict";return this.$MVideoPlayerApiBase3};a.prototype.getMVideoElement=function(){"use strict";return this.$MVideoPlayerApiBase1};a.prototype.$MVideoPlayerApiBase53=function(a){"use strict";this.$MVideoPlayerApiBase6=a,this.$MVideoPlayerApiBase10&&this.$MVideoPlayerApiBase10.updatePlayerStateDebugger(this.$MVideoPlayerApiBase6?u.PLAYER_STATE.playing:u.PLAYER_STATE.paused)};a.prototype.isPlayingState=function(){"use strict";return this.isPlayScheduled()||this.isCurrentlyPlaying()};a.prototype.isPlayScheduled=function(){"use strict";return this.$MVideoPlayerApiBase6};a.prototype.isCurrentlyPlaying=function(){"use strict";return this.$MVideoPlayerApiBase7};a.prototype.setPlayerState=function(a){"use strict";this.$MVideoPlayerApiBase53(a===u.PLAYER_STATE.playing)};a.prototype.setLastActionReason=function(a){"use strict";this.$MVideoPlayerApiBase11=a,this.$MVideoPlayerApiBase10&&this.$MVideoPlayerApiBase10.updateLastActionReasonDebugger(a)};a.prototype.getLastActionReason=function(){"use strict";return this.$MVideoPlayerApiBase11};a.prototype.getPlayerFormat=function(){"use strict";return this.$MVideoPlayerApiBase3.playerFormat};a.prototype.getPlayerOrigin=function(){"use strict";return this.$MVideoPlayerApiBase3.playerOrigin};a.prototype.getPlayerSuborigin=function(){"use strict";return this.$MVideoPlayerApiBase3.playerSuborigin};a.prototype.getSubscriptions=function(){"use strict";return this.$MVideoPlayerApiBase4};a.prototype.getVideoElement=function(){"use strict";this.$MVideoPlayerApiBase3.videoElement||this.$MVideoPlayerApiBase33();return this.$MVideoPlayerApiBase3.videoElement};a.prototype.getVideoID=function(){"use strict";return this.$MVideoPlayerApiBase3.videoID};a.prototype.getSavedOffline=function(){"use strict";return r.isVideoDownloaded(this.$MVideoPlayerApiBase3.videoID)};a.prototype.getConnectivityType=function(){"use strict";return u.getConnectivityType()};a.prototype.getLastPlayReason=function(){"use strict";return this.getLastActionReason()};a.prototype.getVideoPlayReason=function(){"use strict";return this.$MVideoPlayerApiBase2};a.prototype.getResourceUrl=function(){"use strict";return s.shouldLogResourceUrl?this.$MVideoPlayerApiBase3.src:null};a.prototype.getIsAdsPreview=function(){"use strict";return!!this.$MVideoPlayerApiBase3.isAdsPreview};a.prototype.getAdditionalLogData=function(a){var b;b=(b={},b[B.VIDEO_QUALITY]=this.getVideoQuality(),b[B.PLAYER_VERSION]=this.getPlayerVersion(),b[B.VIDEO_INIT_SEQ_ID]=this.getVideoData().videoInitSeqID,b[B.EXTERNAL_LOG_ID]=this.$MVideoPlayerApiBase3[B.EXTERNAL_LOG_ID],b[B.EXTERNAL_LOG_TYPE]=this.$MVideoPlayerApiBase3[B.EXTERNAL_LOG_TYPE],b);this.$MVideoPlayerApiBase3.iframeEmbedReferrer&&(b[B.IFRAME_EMBED_REFERRER]=this.$MVideoPlayerApiBase3.iframeEmbedReferrer);var c=this.$MVideoPlayerApiBase2;c&&a!==A.DISPLAYED&&(b[B.VIDEO_PLAY_REASON]=c);E.Events.includes(a)&&v.shouldLog(this.$MVideoPlayerApiBase3)&&(this.$MVideoPlayerApiBase60(),b[B.CURRENT_VIEWABILITY_PERCENTAGE]=this.$MVideoPlayerApiBase14);return b};a.prototype.getPlayerVersion=function(){"use strict";return D.HTML5};a.prototype.getEmbeddedVideoControlsConfig=function(){"use strict";return null};a.prototype.getEmbeddedVideoControls=function(){"use strict";return this.$MVideoPlayerApiBase18};a.prototype.setupControls=function(){"use strict";var a=this.getEmbeddedVideoControlsConfig();return!a?g.resolve():new g(function(b){var c={toggleQuality:this.toggleVideoQuality,getCurrentVideoQuality:this.getVideoQuality};this.$MVideoPlayerApiBase4.addSubscriptions(i.loadModules(["MEmbeddedVideoControls"],function(d){this.$MVideoPlayerApiBase18=new d(this,this.getVideoElement(),this.getMVideoElement(),c,a),b()}.bind(this),"MVideoPlayerApiBase"))}.bind(this))};a.prototype.$MVideoPlayerApiBase51=function(){"use strict";if(this.$MVideoPlayerApiBase24)return;this.$MVideoPlayerApiBase24=K(this.$MVideoPlayerApiBase64,T)};a.prototype.$MVideoPlayerApiBase56=function(){"use strict";F(this.$MVideoPlayerApiBase24),this.$MVideoPlayerApiBase24=null};a.prototype.heartbeatEnabled=function(){"use strict";return!1};e.exports={MVideoPlayerApiBase:a}}),null);
__d("VideoPlayerShakaPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){h.log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,g.BASIC)};a.prototype.logVital=function(){h.log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,g.VITAL)};a.prototype.logImmediately=function(){h.log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAccessToken=function(a){this.$1.access_token=a;return this};a.prototype.setAdditionalBufferedRanges=function(a){this.$1.additional_buffered_ranges=a;return this};a.prototype.setBandwidthEstimate=function(a){this.$1.bandwidth_estimate=a;return this};a.prototype.setClientTimeBegin=function(a){this.$1.client_time_begin=a;return this};a.prototype.setClientTimeEnd=function(a){this.$1.client_time_end=a;return this};a.prototype.setCode=function(a){this.$1.code=a;return this};a.prototype.setConcluder=function(a){this.$1.concluder=a;return this};a.prototype.setConnectionQualityLevel=function(a){this.$1.connection_quality_level=a;return this};a.prototype.setDroppedFrames=function(a){this.$1.dropped_frames=a;return this};a.prototype.setDynamicBitrate=function(a){this.$1.dynamic_bitrate=a;return this};a.prototype.setError=function(a){this.$1.error=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setExpectedLength=function(a){this.$1.expected_length=a;return this};a.prototype.setInitiator=function(a){this.$1.initiator=a;return this};a.prototype.setIsLive=function(a){this.$1.is_live=a;return this};a.prototype.setIsMuted=function(a){this.$1.is_muted=a;return this};a.prototype.setIsPageVisible=function(a){this.$1.is_page_visible=a;return this};a.prototype.setIsServableViaFbms=function(a){this.$1.is_servable_via_fbms=a;return this};a.prototype.setIsTemplatedManifest=function(a){this.$1.is_templated_manifest=a;return this};a.prototype.setLastBufferedEnd=function(a){this.$1.last_buffered_end=a;return this};a.prototype.setLastBufferedStart=function(a){this.$1.last_buffered_start=a;return this};a.prototype.setLastBufferingEventEndTime=function(a){this.$1.last_buffering_event_end_time=a;return this};a.prototype.setLastPlayingEventTime=function(a){this.$1.last_playing_event_time=a;return this};a.prototype.setLength=function(a){this.$1.length=a;return this};a.prototype.setLiveheadDelta=function(a){this.$1.livehead_delta=a;return this};a.prototype.setLogicalCpuCount=function(a){this.$1.logical_cpu_count=a;return this};a.prototype.setLowestQualityRepresentationID=function(a){this.$1.lowest_quality_representation_id=a;return this};a.prototype.setManifestType=function(a){this.$1.manifest_type=a;return this};a.prototype.setParentID=function(a){this.$1.parent_id=a;return this};a.prototype.setPlayerOriginCallerSpecified=function(a){this.$1.player_origin_caller_specified=a;return this};a.prototype.setPlayerSuborigin=function(a){this.$1.player_suborigin=a;return this};a.prototype.setPlayerVersion=function(a){this.$1.player_version=a;return this};a.prototype.setPlayhead=function(a){this.$1.playhead=a;return this};a.prototype.setPreloadTime=function(a){this.$1.preload_time=a;return this};a.prototype.setPreviousRepresentationID=function(a){this.$1.previous_representation_id=a;return this};a.prototype.setPriorityFloat=function(a){this.$1.priority_float=a;return this};a.prototype.setPushed=function(a){this.$1.pushed=a;return this};a.prototype.setReason=function(a){this.$1.reason=a;return this};a.prototype.setRepresentationID=function(a){this.$1.representation_id=a;return this};a.prototype.setRescheduleCount=function(a){this.$1.reschedule_count=a;return this};a.prototype.setResource=function(a){this.$1.resource=a;return this};a.prototype.setResult=function(a){this.$1.result=a;return this};a.prototype.setScriptPath=function(a){this.$1.script_path=a;return this};a.prototype.setSegmentEndTime=function(a){this.$1.segment_end_time=a;return this};a.prototype.setSegmentStartTime=function(a){this.$1.segment_start_time=a;return this};a.prototype.setSegmentTimeGap=function(a){this.$1.segment_time_gap=a;return this};a.prototype.setSequentialID=function(a){this.$1.sequential_id=a;return this};a.prototype.setSession=function(a){this.$1.session=a;return this};a.prototype.setState=function(a){this.$1.state=a;return this};a.prototype.setStreamSwitchReason=function(a){this.$1.stream_switch_reason=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setTimeBetweenBytesMax=function(a){this.$1.time_between_bytes_max=a;return this};a.prototype.setTimeSinceMainThreadAvailable=function(a){this.$1.time_since_main_thread_available=a;return this};a.prototype.setTimeToFirstByte=function(a){this.$1.time_to_first_byte=a;return this};a.prototype.setTimeToLastByte=function(a){this.$1.time_to_last_byte=a;return this};a.prototype.setTimeToRequestSent=function(a){this.$1.time_to_request_sent=a;return this};a.prototype.setTimeToRequestStart=function(a){this.$1.time_to_request_start=a;return this};a.prototype.setTotalFrames=function(a){this.$1.total_frames=a;return this};a.prototype.setType=function(a){this.$1.type=a;return this};a.prototype.setUpdatePeriod=function(a){this.$1.update_period=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVideoDuration=function(a){this.$1.video_duration=a;return this};a.prototype.setVideoID=function(a){this.$1.video_id=a;return this};a.prototype.setVideoPlaybackExperienceIssue=function(a){this.$1.video_playback_experience_issue=a;return this};a.prototype.setWasDelayed=function(a){this.$1.was_delayed=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};b={access_token:!0,additional_buffered_ranges:!0,bandwidth_estimate:!0,client_time_begin:!0,client_time_end:!0,code:!0,concluder:!0,connection_quality_level:!0,dropped_frames:!0,dynamic_bitrate:!0,error:!0,event:!0,expected_length:!0,initiator:!0,is_live:!0,is_muted:!0,is_page_visible:!0,is_servable_via_fbms:!0,is_templated_manifest:!0,last_buffered_end:!0,last_buffered_start:!0,last_buffering_event_end_time:!0,last_playing_event_time:!0,length:!0,livehead_delta:!0,logical_cpu_count:!0,lowest_quality_representation_id:!0,manifest_type:!0,parent_id:!0,player_origin_caller_specified:!0,player_suborigin:!0,player_version:!0,playhead:!0,preload_time:!0,previous_representation_id:!0,priority_float:!0,pushed:!0,reason:!0,representation_id:!0,reschedule_count:!0,resource:!0,result:!0,script_path:!0,segment_end_time:!0,segment_start_time:!0,segment_time_gap:!0,sequential_id:!0,session:!0,state:!0,stream_switch_reason:!0,time:!0,time_between_bytes_max:!0,time_since_main_thread_available:!0,time_to_first_byte:!0,time_to_last_byte:!0,time_to_request_sent:!0,time_to_request_start:!0,total_frames:!0,type:!0,update_period:!0,vc:!0,video_duration:!0,video_id:!0,video_playback_experience_issue:!0,was_delayed:!0,weight:!0};e.exports=a}),null);
__d("MVideoPlayerOzEventOperationLogger",["VideoPlayerShakaPerformanceTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;function j(a){typeof a==="number"&&(a=Math.floor(a));return a}h=babelHelpers.inherits(a,g);i=h&&h.prototype;a.prototype.setState=function(a){this.$MVideoPlayerOzEventOperationLogger1=a;return i.setState.call(this,a)};a.prototype.getState=function(){return this.$MVideoPlayerOzEventOperationLogger1};a.prototype.setSequentialID=function(a){this.$MVideoPlayerOzEventOperationLogger2=a;i.setSequentialID.call(this,a);return this};a.prototype.setParentLogger=function(a){this.setParentID(a.$MVideoPlayerOzEventOperationLogger2);return this};a.prototype.setSegmentEndTime=function(a){i.setSegmentEndTime.call(this,j(a));return this};a.prototype.setSegmentTimeGap=function(a){i.setSegmentTimeGap.call(this,j(a));return this};a.prototype.setSegmentStartTime=function(a){i.setSegmentStartTime.call(this,j(a));return this};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("MVideoPlayerOzPerfLoggerProvider",["MVideoPlayerOzEventOperationLogger","ScriptPath","VideoPlayerShakaPerformanceLoggerConfig","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k;b=babelHelpers.inherits(a,j);k=b&&b.prototype;a.isEnabled=function(){return i.isSampled};function a(a){k.constructor.call(this),this.$MVideoPlayerOzPerfLoggerProvider19=a,this.$MVideoPlayerOzPerfLoggerProvider2=a.videoID,this.$MVideoPlayerOzPerfLoggerProvider4=a.video,this.$MVideoPlayerOzPerfLoggerProvider1=a.uniqueID,this.$MVideoPlayerOzPerfLoggerProvider3=0,this.$MVideoPlayerOzPerfLoggerProvider5=a.representationId,this.$MVideoPlayerOzPerfLoggerProvider10=a.isLive,this.$MVideoPlayerOzPerfLoggerProvider9=null,this.$MVideoPlayerOzPerfLoggerProvider11=a.accessToken,this.$MVideoPlayerOzPerfLoggerProvider12=a.playerOrigin,this.$MVideoPlayerOzPerfLoggerProvider13=a.playerSuborigin,this.$MVideoPlayerOzPerfLoggerProvider18=a.preloadTime}a.prototype.createLoggerProvider=function(){return new self(this.$MVideoPlayerOzPerfLoggerProvider19)};a.prototype.$MVideoPlayerOzPerfLoggerProvider20=function(a){__p&&__p();var b=this.$MVideoPlayerOzPerfLoggerProvider4.buffered;if(b.length>0){var c=b.length-1;a=a.setLastBufferedStart(Math.round(b.start(c)*1e3)).setLastBufferedEnd(Math.round(b.end(c)*1e3))}c=[];for(var d=0;d<b.length-1;d++){var e=Math.round(this.$MVideoPlayerOzPerfLoggerProvider4.buffered.start(d)*1e3),f=Math.round(this.$MVideoPlayerOzPerfLoggerProvider4.buffered.end(d)*1e3);c.push([e,f])}c&&c.length&&(a=a.setAdditionalBufferedRanges(JSON.stringify(c)));return a};a.prototype.setType=function(a){this.$MVideoPlayerOzPerfLoggerProvider17=a;return this};a.prototype.getLiveheadDelta=function(){return this.$MVideoPlayerOzPerfLoggerProvider9?Math.round((this.$MVideoPlayerOzPerfLoggerProvider9-this.$MVideoPlayerOzPerfLoggerProvider4.currentTime)*1e3):null};a.prototype.getVideoID=function(){return this.$MVideoPlayerOzPerfLoggerProvider2};a.prototype.getEventLogger=function(event){__p&&__p();var a=Date.now(),b=new g(),c=this.$MVideoPlayerOzPerfLoggerProvider4.currentTime,d=this.$MVideoPlayerOzPerfLoggerProvider4.duration;this.$MVideoPlayerOzPerfLoggerProvider20(b).setEvent(event).setVideoID(this.$MVideoPlayerOzPerfLoggerProvider2).setLogicalCpuCount(navigator&&navigator.hardwareConcurrency).setPlayerOriginCallerSpecified(this.$MVideoPlayerOzPerfLoggerProvider12).setScriptPath(h.getScriptPath()).setPlayerSuborigin(this.$MVideoPlayerOzPerfLoggerProvider13).setDynamicBitrate(this.$MVideoPlayerOzPerfLoggerProvider16).setRepresentationID(this.$MVideoPlayerOzPerfLoggerProvider5).setLowestQualityRepresentationID(this.$MVideoPlayerOzPerfLoggerProvider15).setPlayhead(Math.round(c*1e3)).setVideoDuration(Math.round(d*1e3)).setIsLive(this.$MVideoPlayerOzPerfLoggerProvider10).setSession(this.$MVideoPlayerOzPerfLoggerProvider1).setManifestType(this.$MVideoPlayerOzPerfLoggerProvider14).setSequentialID(this.$MVideoPlayerOzPerfLoggerProvider3++).setState(this.$MVideoPlayerOzPerfLoggerProvider6).setLastBufferingEventEndTime(this.$MVideoPlayerOzPerfLoggerProvider8).setLastPlayingEventTime(this.$MVideoPlayerOzPerfLoggerProvider7).setLiveheadDelta(this.getLiveheadDelta()).setPushed(0).setResult("success").setAccessToken(this.$MVideoPlayerOzPerfLoggerProvider11).setClientTimeBegin(a).setClientTimeEnd(a).setPreloadTime(this.$MVideoPlayerOzPerfLoggerProvider18);var e=this,f=b.setState;b.setState=function(a){a!==this.$MVideoPlayerOzPerfLoggerProvider6&&a==="playing"?e.$MVideoPlayerOzPerfLoggerProvider7=Date.now():a!=="playing"&&(e.$MVideoPlayerOzPerfLoggerProvider7=null);e.$MVideoPlayerOzPerfLoggerProvider6=a;return f.call(this,a)};b.updateState=function(a){return this.getState()==e.$MVideoPlayerOzPerfLoggerProvider6?this.setState(a):this};var i=b.setError;b.setError=function(a){typeof a==="object"?(a.type==="aborted"||a.type==="delay"?this.setResult("aborted"):a.type==="paused"?this.setResult("paused"):(this.setResult("failed"),i.call(this,a.type)),this.setCode(a.status),this.setError(a.name)):i.call(this,a);return this};var j=b.setManifestType;b.setManifestType=function(a){this.$MVideoPlayerOzPerfLoggerProvider14=a;return j.call(b,a)}.bind(this);return b};a.prototype.getOperationLogger=function(a){a=this.createOperationLogger(a);this.setOperationContext(a);return a};a.prototype.createOperationLogger=function(a){__p&&__p();var b=this.getEventLogger(a),c=b.log,d=this;b.log=function(){var b=this.getData().client_time_end||Date.now();this.setClientTimeEnd(b);a==="buffering"&&(d.$MVideoPlayerOzPerfLoggerProvider8=Date.now());return c.call(this)};b.start=function(){return b};b.setLiveheadPosition=function(a){this.$MVideoPlayerOzPerfLoggerProvider9=a;b.setLiveheadDelta(this.getLiveheadDelta());return b}.bind(this);var e=b.setDynamicBitrate;b.setDynamicBitrate=function(a){a=Number(a)||null;this.$MVideoPlayerOzPerfLoggerProvider16=a;return e.call(b,a)}.bind(this);var f=b.setLowestQualityRepresentationID;b.setLowestQualityRepresentationID=function(a){this.$MVideoPlayerOzPerfLoggerProvider15=a;return f.call(b,a)}.bind(this);return b};a.prototype.setRepresentationID=function(a){this.$MVideoPlayerOzPerfLoggerProvider5=a};a.prototype.setDynamicBitrate=function(a){this.$MVideoPlayerOzPerfLoggerProvider16=a};e.exports=a}),null);
__d("oz-player/utils/OzBufferingUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=.1;d=1;var g=.2;function a(a,b){var c=a.currentTime,d=0;for(var e=0;e<a.buffered.length;e++){var f=a.buffered.start(e),g=a.buffered.end(e);if(f<=c&&g>=c){d=g;break}}return d-c>b}function b(a,b){var c=a.currentTime,d=0;for(var e=0;e<a.buffered.length;e++){var f=a.buffered.start(e),h=a.buffered.end(e);if(f<=c&&h>=c){d=h;break}}return(!b.getBool("reach_end_only_when_video_ended",!1)||a.ended)&&(Math.abs(d-a.duration)<=g||Math.abs(c-a.duration)<=g)}e.exports={hasEnoughBuffer:a,hasBufferedToOrReachedEnd:b,BUFFER_OVERFLOW_THRESHOLD:d,BUFFER_UNDERFLOW_THRESHOLD:c,BUFFER_FUDGE_FACTOR:g}}),null);
__d("oz-player/strategies/OzBufferingDetectorStates",["oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=g.BUFFER_OVERFLOW_THRESHOLD,i=g.BUFFER_UNDERFLOW_THRESHOLD,j=g.hasBufferedToOrReachedEnd,k=g.hasEnoughBuffer;function l(a,b){this.$1=a,this.$2=b}l.prototype.handleEvent=function(event,a){if(event.type==="pause"||a.paused)return new m(this.$1);var b=this.$2 instanceof n?this.$1.getNumber("in_play_buffer_overflow_target",h):this.$1.getNumber("start_buffer_underflow_target",h);return k(a,b)||j(a,this.$1)?new n(this.$1):this};function m(a){this.$1=a}m.prototype.handleEvent=function(event,a){if(event.type==="play"||event.type==="playing"||!a.paused){var b=this.$1.getNumber("start_buffer_underflow_target",i);return k(a,b)?new n(this.$1):new l(this.$1,this)}return this};function n(a){this.$1=a}n.prototype.handleEvent=function(event,a){if(event.type==="pause"||a.paused)return new m(this.$1);var b=this.$1.getNumber("in_play_buffer_underflow_target",i);return!k(a,b)&&!j(a,this.$1)?new l(this.$1,this):this};e.exports={OzVideoBufferingState:l,OzVideoPausedState:m,OzVideoPlayingState:n}}),null);
__d("oz-player/shims/OzEvent",["Event"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Event")}),null);
__d("oz-player/utils/OzDomEventCapturer",["oz-player/shims/OzEvent","oz-player/shims/OzEventListener"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){this.$2=new Map(),this.$1=a}a.prototype.capture=function(a,b){var c=this.$1.parentNode;return!c?{remove:function(){}}:h.capture(c,a,function(event){if(event.target!==this.$1)return;var a=b(event);a&&this.$3(event)}.bind(this))};a.prototype.dispatchIfSuppressed=function(a){var event=this.$2.get(a);event&&this.$1.dispatchEvent(event);this.$2["delete"](a)};a.prototype.$3=function(event){g.kill(event),this.$2.set(event.type,event)};e.exports=a}),null);
__d("oz-player/strategies/OzBufferingDetector",["oz-player/shims/OzEventEmitter","oz-player/shims/OzEventListener","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzBufferingUtils","oz-player/utils/OzDomEventCapturer","oz-player/strategies/OzBufferingDetectorStates"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n;k.BUFFER_OVERFLOW_THRESHOLD;var o=k.BUFFER_UNDERFLOW_THRESHOLD,p=k.hasEnoughBuffer,q=m.OzVideoBufferingState,r=m.OzVideoPausedState,s=m.OzVideoPlayingState,t=150;b=babelHelpers.inherits(a,g);n=b&&b.prototype;function a(a,b){__p&&__p();n.constructor.call(this),this.$OzBufferingDetector3=new i(),this.$OzBufferingDetector6=function(event){__p&&__p();var a=this.$OzBufferingDetector1.handleEvent(event,this.$OzBufferingDetector2),b=this.$OzBufferingDetector1;this.$OzBufferingDetector1=a;var c=a instanceof q,d=b instanceof q;if(a===b)return a;if(c){c=b instanceof s?"in_play":"start/unpause";this.emit("enter_buffering",c)}else d&&this.emit("leave_buffering");a instanceof s&&this.$OzBufferingDetector4.dispatchIfSuppressed("playing");return a}.bind(this),this.$OzBufferingDetector7=function(event){var a=this.$OzBufferingDetector6(event)instanceof q;return this.$OzBufferingDetector5.getBool("suppress_playing_event_while_buffering",!1)?a:!1}.bind(this),this.$OzBufferingDetector2=a,this.$OzBufferingDetector5=b,this.$OzBufferingDetector2.paused?this.$OzBufferingDetector1=new r(this.$OzBufferingDetector5):this.$OzBufferingDetector1=p(this.$OzBufferingDetector2,this.$OzBufferingDetector5.getNumber("in_play_buffer_underflow_target",o))?new s(this.$OzBufferingDetector5):new q(this.$OzBufferingDetector5,null),this.$OzBufferingDetector4=new l(this.$OzBufferingDetector2),this.$OzBufferingDetector3.addSubscriptions(h.listen(this.$OzBufferingDetector2,"pause",this.$OzBufferingDetector6),h.listen(this.$OzBufferingDetector2,"play",this.$OzBufferingDetector6),this.$OzBufferingDetector4.capture("playing",this.$OzBufferingDetector7),h.listen(this.$OzBufferingDetector2,"progress",j(this.$OzBufferingDetector6,t)),h.listen(this.$OzBufferingDetector2,"timeupdate",j(this.$OzBufferingDetector6,t)),h.listen(this.$OzBufferingDetector2,"seeked",this.$OzBufferingDetector6),h.listen(this.$OzBufferingDetector2,"seeking",this.$OzBufferingDetector6),h.listen(this.$OzBufferingDetector2,"waiting",this.$OzBufferingDetector6))}a.prototype.destroy=function(){this.$OzBufferingDetector3.release()};e.exports=a}),null);
__d("shouldUseOzPlayer",["BanzaiODS","FBLogger","MOzExperiments"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(a,b){__p&&__p();b===void 0&&(b=!1);if(!i.mtouch_use_oz_player)return!1;g.bumpEntityKey("MOzVideoPlayerApi","setup");var c,d=function(a){var b=/mimeType=\"([^\"]*)\"\s*codecs=\"([^\"]*)\"/g,c;while(c=b.exec(a)){c=c[1]+'; codecs="'+c[2]+'"';if(!window.MediaSource.isTypeSupported(c)){h("mtouch_video").debug("Unsupported DASH type: %s",c);return!0}}return!1};!a.dashManifest?c="noDashManifest":!window.MediaSource?c="noMediaSourceSupport":!window.fetch?c="noFetch":!window.ReadableStream?c="noReadableStream":d(a.dashManifest)&&(c="codecNotSupported");if(c){b&&g.bumpEntityKey("MOzVideoPlayerApi","fallback."+c);return!1}return!0}e.exports=a}),null);
__d("MOzVideoPlayerApi",["BanzaiODS","EventListener","FBLogger","MMediaFactory","MOzDashPrefetchCache","MOzExperiments","MVideoDashPrefetchCache","MVideoExperiments","MVideoPlayerApiBase","MVideoPlayerOzPerfLoggerProvider","MVideoUtils","OzExperimentsConfig","VideoPlayerLoggerErrorStates","VideoPlayerLoggerEvent","VideoPlayerVersions","guid","oz-player","oz-player/configs/DummyOzConfig","oz-player/configs/OzGlobalConfig","oz-player/strategies/OzBufferingDetector","shouldUseOzPlayer"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A){__p&&__p();var B;b=o.MVideoPlayerApiBase;y.setGlobalConfig(new x(l));j.populate();function C(a){switch(a){case 1:return"The fetching process for the media resource was aborted by the user agent at the users request.";case 2:return"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.";case 3:return"An error of some description occurred while decoding the media resource, after the resource was established to be usable.";case 4:return"The media resource indicated by the src attribute was not suitable."}return null}function D(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return"Error code "+a+" is unknown"}}function E(a,b,c){b=m.createQueryStringURL(b);b=m.getCacheValue(b);if(!b){a.push(c);return null}return b}function F(a,b){return a.find(function(a){return a.segment_type===b})}function G(a,b,c){__p&&__p();var d=F(b,"init");b=F(b,"data");if(d){var e=E(a,d,c+" init");if(!e)return null;var f;b&&(f=E(a,b,c+" data"));return{initializationPromise:e,segmentPromise:f,mimeCodec:d.mime_codec,representationID:d.representation_id}}return null}c=babelHelpers.inherits(a,b);B=c&&c.prototype;function a(a){"use strict";__p&&__p();B.constructor.call(this,a),this.$MOzVideoPlayerApi5=null,this.getVideoQuality=function(){return this.$MOzVideoPlayerApi1}.bind(this),this.toggleVideoQuality=function(){__p&&__p();if(!this.$MOzVideoPlayerApi2)return;var a=this.$MOzVideoPlayerApi2.getVideoQualities();if(!a||a.length===1)return;var b=a.indexOf(this.$MOzVideoPlayerApi1);b===-1&&(b=a.length-1);b=b>=a.length-1?0:b+1;a=a[b];this.$MOzVideoPlayerApi2.switchToVideoQuality(a);this.$MOzVideoPlayerApi1=a}.bind(this)}a.prototype.postInit=function(){"use strict";__p&&__p();var a=new r(l);this.$MOzVideoPlayerApi6(a);try{var b=this.getVideoData().dashManifest;if(!b)throw new Error("No manifest available in VideoData. Aborting.");this.getSubscriptions().addSubscriptions(h.listen(this.getVideoElement(),"error",this.$MOzVideoPlayerApi7.bind(this)));try{var c=[this.getPreInitLoggerProvider()];this.getVideoData().quickStarter&&(c=c.concat(this.getVideoData().quickStarter.getObservedOperationLoggers()));var d=this.getDimensions();this.$MOzVideoPlayerApi2=new w(this.getVideoData().quickStarter||this.getVideoElement(),a,b,{width:d.width,height:d.height},null,{perfLoggerProviders:this.$MOzVideoPlayerApi8(),observedOperationLoggers:c},new k())}catch(a){g.bumpEntityKey("MOzVideoPlayerApi","error.createDashPlayer");throw a}this.$MOzVideoPlayerApi2.onError(function(a){return this.$MOzVideoPlayerApi9(a,"DashPlayer.onError")}.bind(this));this.$MOzVideoPlayerApi2.setupPlayer();a=this.$MOzVideoPlayerApi2.getVideoQualities();a.length>1&&(this.$MOzVideoPlayerApi1=this.$MOzVideoPlayerApi2.getCurrentQuality())}catch(a){g.bumpEntityKey("MOzVideoPlayerApi","failed.exception");this.$MOzVideoPlayerApi9(a,"caught");throw a}};a.prototype.$MOzVideoPlayerApi6=function(a){"use strict";if(!n.mtouch_use_buffering_detector)return;a=new z(this.getVideoElement(),a);this.$MOzVideoPlayerApi3=a;a.addListener("enter_buffering",this.$MOzVideoPlayerApi10.bind(this));a.addListener("leave_buffering",this.$MOzVideoPlayerApi11.bind(this))};a.prototype.$MOzVideoPlayerApi10=function(){"use strict";this.getLogger().startBuffering(this.getVideoElement().currentTime),this.$MOzVideoPlayerApi4=this.getPreInitLoggerProvider().getOperationLogger("buffering").setType(this.isPlayScheduled()&&!this.isCurrentlyPlaying()?"start/unpause":"in_play").setInitiator(this.getLastActionReason()).start()};a.prototype.$MOzVideoPlayerApi11=function(){"use strict";this.getLogger().endBuffering(),this.$MOzVideoPlayerApi4&&(this.$MOzVideoPlayerApi4.log(),this.$MOzVideoPlayerApi4=null)};a.prototype.onTimeUpdate=function(a){"use strict";B.onTimeUpdate.call(this,a),n.send_representation_ended&&this.$MOzVideoPlayerApi12(a.target.currentTime)};a.prototype.$MOzVideoPlayerApi12=function(a){"use strict";a=this.$MOzVideoPlayerApi2.getVideoRepresentationIDAtTime(a);if(a!=null&&a!==this.$MOzVideoPlayerApi5){var b=this.$MOzVideoPlayerApi5;this.$MOzVideoPlayerApi5=a;b!=null&&this.logEvent(t.REPRESENTATION_ENDED,{representation_id:b,next_representation_id:a})}};a.prototype.$MOzVideoPlayerApi9=function(a,b,c){__p&&__p();c===void 0&&(c=s.PLAYER_FAILURE);var d="(empty)",e="(empty)";a&&(a.message?d=a.message:a.code?d=C(a.code):d=a.toString(),a.code?e=D(a.code):a.name?e=a.name:e=a.toString());try{a=(b?b+": ":"")+(d?d:"(unknown)")}catch(a){g.bumpEntityKey("MOzVideoPlayerApi","error.prepareToLogEvent");throw a}try{this.logEvent(t.ERROR,{error:e,error_description:a,state:c})}catch(a){i("mtouch_oz").catching(a).warn("logEvent failed to log error for %s",b);g.bumpEntityKey("MOzVideoPlayerApi","error.logEvent");throw a}};a.prototype.getPlayerVersion=function(){"use strict";return u.MTOUCH_OZ};a.prototype.$MOzVideoPlayerApi7=function(a){"use strict";g.bumpEntityKey("MOzVideoPlayerApi","error.onMediaElementError");a=this.getVideoElement().error;a&&this.$MOzVideoPlayerApi9(a,"onError",s.PLAYBACK_FAILURE)};a.prototype.$MOzVideoPlayerApi8=function(){"use strict";var a=[];p&&p.isEnabled&&typeof p.isEnabled==="function"&&p.isEnabled()&&(a.push(new p({videoID:this.getVideoID(),isLive:!1,video:this.getVideoElement(),uniqueID:v(),playerOrigin:this.getPlayerOrigin(),playerSuborigin:this.getPlayerSuborigin(),accessToken:null,representationId:null,preloadTime:this.getVideoData().preloadTime})),this.getVideoData().preloadTime=null);return a};a.prototype.shouldDisablePlayDelay=function(){"use strict";return l.immediate_play};a.prototype.shouldIgnoreInitialMuteOperation=function(){"use strict";return l.ignore_initial_mute_operation};a.prototype.unload=function(){"use strict";l.fix_call_destroy&&this.$MOzVideoPlayerApi2.destroy();var a=this.getVideoData();a.quickStarter&&(a.quickStarter=null);this.$MOzVideoPlayerApi3&&this.$MOzVideoPlayerApi3.destroy();B.unload.call(this)};a.prepare=function(a,b,c){"use strict";__p&&__p();a=q.getVideoDataFromMVideo(a);var d=A(a);a.preloadTime=Date.now();if(l.precreate_video_node&&d){d=j.get();a.videoElement=d.node;g.bumpEntityKey("MOzVideoPlayerApi","precreate_video_node");if(d.quickStarter){a.quickStarter=d.quickStarter;if(b&&l.feed_quick_starter&&(!l.no_quickstarter_for_ctp||!c||c.isAutoplayable())){d=[];c=G(d,b.prefetch_data.video,"video");if(c){a.quickStarter.addPrefetchTrack(c);c=G(d,b.prefetch_data.audio,"audio");c&&a.quickStarter.addPrefetchTrack(c)}d.length!==0&&!l.no_prefetch_for_ctp&&i("mtouch_oz").mustfix("Unable to feed OzQuickStarter because some of the prefetches are missing: %s",d.join(", "))}}}};a.prototype.getAdditionalLogData=function(a){"use strict";var b=B.getAdditionalLogData.call(this,a);n.send_representation_ended&&a!==t.REPRESENTATION_ENDED&&(b.representation_id=this.$MOzVideoPlayerApi5);return b};e.exports=a}),null);
__d("MProgressiveVideoPlayerApi",["DOM","MVideoPlayerApiBase","VideoPlayerVersions"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;b=h.MVideoPlayerApiBase;c=babelHelpers.inherits(a,b);j=c&&c.prototype;function a(a){"use strict";j.constructor.call(this,a)}a.prototype.postInit=function(){"use strict";j.postInit.call(this),this.$MProgressiveVideoPlayerApi1()};a.prototype.$MProgressiveVideoPlayerApi1=function(){"use strict";var a=this.getVideoData(),b=this.getVideoElement();a=a.effectiveSrc;Array.isArray(a)&&a.length===1&&(a=a[0]);Array.isArray(a)?a.forEach(function(a){b.appendChild(g.create("source",a))}):a&&b.setAttribute("src",a);b.load()};a.prototype.getAdditionalLogData=function(a){"use strict";a=j.getAdditionalLogData.call(this,a);var b={},c=this.getVideoData().playbackIsLiveStreaming;c&&(b.playback_is_live_streaming=this.getVideoData().playbackIsLiveStreaming);return Object.assign({},a,b)};a.prototype.getPlayerVersion=function(){"use strict";return i.HTML5};e.exports=a}),null);
__d("MShakaVideoPlayerApi",["BanzaiODS","MVideoPlayerApiBase","MVideoPlayerOzPerfLoggerProvider","VideoPlayerVersions","guid","promiseDone","requireWeak"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();var n;b=h.MVideoPlayerApiBase;var o=null;c=babelHelpers.inherits(a,b);n=c&&c.prototype;function a(a){"use strict";n.constructor.call(this,a),this.$MShakaVideoPlayerApi1=!1,this.$MShakaVideoPlayerApi2=!1}a.prototype.getAdditionalLogData=function(a){"use strict";a=n.getAdditionalLogData.call(this,a);var b={},c=this.getVideoData().playbackIsLiveStreaming;c&&(b.playback_is_live_streaming=this.getVideoData().playbackIsLiveStreaming);return Object.assign({},a,b)};a.prototype.heartbeatEnabled=function(){"use strict";return!0};a.prototype.postInit=function(){"use strict";m("MOzLivePlayer",function(a){var b=[],c=this.$MShakaVideoPlayerApi3();c&&b.push(c);a.createPlayer(this.getVideoElement(),this.getVideoData().src,{perfLoggerProviders:b,observedOperationLoggers:[this.getPreInitLoggerProvider()]}).getPromise().then(function(a){o=a,this.$MShakaVideoPlayerApi2=!0,this.$MShakaVideoPlayerApi1&&(this.getVideoElement().play(),this.$MShakaVideoPlayerApi1=!1)}.bind(this))["catch"](function(a){g.bumpEntityKey("MOzLivePlayer","createPlayer.error")});this.getVideoElement().controls=!1;l(this.setupControls())}.bind(this))};a.prototype.attemptVideoElementPlay=function(){"use strict";this.$MShakaVideoPlayerApi2?n.attemptVideoElementPlay.call(this):this.$MShakaVideoPlayerApi1=!0};a.prototype.unload=function(){"use strict";o&&o.destroy(),o=null,n.unload.call(this)};a.prototype.getEmbeddedVideoControlsConfig=function(){"use strict";return{playbackControlHidden:!1,scrubberHidden:!0,playbackTimerHidden:!0,fullScreenControlHidden:!1}};a.prototype.getPlayerVersion=function(){"use strict";return j.MTOUCH_SHAKA_LIVE};a.prototype.$MShakaVideoPlayerApi3=function(){"use strict";return!i.isEnabled()?null:new i({videoID:this.getVideoID(),isLive:!0,video:this.getVideoElement(),uniqueID:k(),playerOrigin:this.getPlayerOrigin(),playerSuborigin:this.getPlayerSuborigin(),accessToken:null,representationId:null,preloadTime:null})};e.exports=a}),null);
__d("MSphericalVideoPlayerApi",["Bootloader","MVideoCache","MProgressiveVideoPlayerApi","MVideoUtils","VideoPlayerVersions","promiseDone"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m;b=babelHelpers.inherits(a,i);m=b&&b.prototype;function a(a){__p&&__p();m.constructor.call(this,a),this.getVideoQuality=function(){return this.$MSphericalVideoPlayerApi1}.bind(this),this.toggleVideoQuality=function(){__p&&__p();if(this.getVideoElement().tagName!=="VIDEO"||h.isSupported()&&h.getCachedVideoByID(this.getVideoID()))return;var a=this.getVideoData().availableQualities;if(!a)return;var b;for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)&&c!==this.$MSphericalVideoPlayerApi1){b=c;break}if(!b)return;this.$MSphericalVideoPlayerApi1=b;a=a[this.$MSphericalVideoPlayerApi1];if(!a)return;this.getVideoElement().pause();var d=this.getVideoElement().currentTime;this.getVideoElement().setAttribute("src",a);this.getVideoElement().currentTime=d;this.getVideoElement().load();this.getVideoElement().play()}.bind(this)}a.prototype.postInit=function(){m.postInit.call(this),this.getVideoElement().load(),this.$MSphericalVideoPlayerApi1=this.getVideoData().defaultQuality,l(this.setupControls().then(function(){return this.play(this.getVideoPlayReason())}.bind(this))),this.$MSphericalVideoPlayerApi3()};a.prototype.prepareDOMNode=function(){m.prepareDOMNode.call(this),this.getVideoElement().setAttribute("crossorigin","anonymous")};a.prototype.$MSphericalVideoPlayerApi3=function(){if(this.$MSphericalVideoPlayerApi2)return;var a=this.getVideoData();a=a&&a.sphericalParams||{};var b={projectionType:a.projection,initialHeading:a.initialYaw,initialPitch:a.initialPitch,fieldOfView:a.initialFieldOfView,expansionCoef:1.01};a={disableTouchControls:a.disableSphericalTouchControls};var c={videoID:this.getVideoID(),logEvent:this.logEvent.bind(this),viewportConfig:a};g.loadModules(["MVideoPlayerHTML5Spherical"],function(a){this.$MSphericalVideoPlayerApi2=new a(this,this.getVideoElement(),b,c),this.play()}.bind(this),"MSphericalVideoPlayerApi")};a.prototype.show=function(){m.show.call(this),this.toggleClassOnMVideoElement(j.SPHERICAL_CLASS,!0)};a.prototype.play=function(a){if(!this.getEmbeddedVideoControls()||!this.$MSphericalVideoPlayerApi2)return;m.play.call(this,a)};a.prototype.getEmbeddedVideoControlsConfig=function(){return{fullScreenControlHidden:!0}};a.prototype.unload=function(){m.unload.call(this),this.$MSphericalVideoPlayerApi2&&(this.$MSphericalVideoPlayerApi2.unload(),this.$MSphericalVideoPlayerApi2=null)};a.prototype.getPlayerVersion=function(){return k.MTOUCH_SPHERICAL};e.exports=a}),null);
__d("MVideoMediaSourceState",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.$2=!1,this.$1=!1,this.$3=a}a.prototype.getMediaSource=function(){"use strict";return this.$3};a.prototype.videoStreamEnded=function(){"use strict";this.$2=!0,this.$4()};a.prototype.audioStreamEnded=function(){"use strict";this.$1=!0,this.$4()};a.prototype.$4=function(){"use strict";this.$1&&this.$2&&this.$3.endOfStream()};e.exports=a}),null);
__d("showVideoUnavailableDialog",["MCustomDialog","fbt"],(function(a,b,c,d,e,f,g,h){function a(){var a=h._("Os v\u00eddeos n\u00e3o est\u00e3o mais dispon\u00edveis"),b=h._("Conecte-se \u00e0 Internet e tente novamente."),c=h._("OK");g.show({titleString:a,descriptionString:b,dismissButtonString:c})}e.exports=a}),null);
__d("MInlineVideo",["FBLogger","MFullScreen","MLegacyDataStore","MOzVideoPlayerApi","MProgressiveVideoPlayerApi","MShakaVideoPlayerApi","MSphericalVideoPlayerApi","MVideoCache","MVideoCacheCleanUp","MVideoDownloadConfig","MVideoExperiments","MVideoMediaSourceState","MVideoUtils","Stratcom","SubscriptionsHandler","VideoPlayerReason","emptyFunction","getElementPosition","shouldUseOzPlayer","showVideoUnavailableDialog","throttle"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A){__p&&__p();var B,C=!1,D=null,E;function a(a){if(C)return;a&&a.setup();t.listen("click",s.PLAY_SIGIL,N);t.listen("m:page:unload",null,G);t.listen(["m:jewel:flyout:open","m:popup:show","m:side-area:show"],null,H);C=!0}function F(){D&&D.isVisible()&&D.getVideoData().playInFullScreen==="true"&&!h.isFullScreen()&&(G(),h.removeFullScreenEventListeners(window,F))}function G(){if(!D)return;q.reuse_api_instance?D.unload():D.destroy();D=null;B=null;E&&(E.release(),E=null)}function H(){if(!D||!D.hasActivePlayer())return;i.get(B).type!=="video"?G():D&&(D.pause(v.PAGE_VISIBILITY),D.hide())}function I(){return D?D.getLastActionReason():v.USER}function b(){return B}function J(a){D&&D.pause(a)}function K(a){D&&D.play(a)}function c(a){D&&D.setLastActionReason(a)}function L(a,b){__p&&__p();var c=null,d=null;b.videoCodec?(c=a.getMediaSource().addSourceBuffer('video/mp4; codecs="'+b.videoCodec+'"'),c.addEventListener("updateend",function(){a.videoStreamEnded()},!1)):a.videoStreamEnded();b.audioCodec?(d=a.getMediaSource().addSourceBuffer('audio/mp4; codecs="'+b.audioCodec+'"'),d.addEventListener("updateend",function(){a.audioStreamEnded()},!1)):a.audioStreamEnded();b.videoCodec&&n.getCachedVideoStream(b,function(a){var b=new FileReader();b.addEventListener("loadend",function(){c.appendBuffer(b.result)});b.readAsArrayBuffer(a)},w);b.audioCodec&&n.getCachedAudioStream(b,function(a){var b=new FileReader();b.addEventListener("loadend",function(){d.appendBuffer(b.result)});b.readAsArrayBuffer(a)},w)}function M(a,b){__p&&__p();var c=null,d=null,e=null,f=null,g=function(a,b,c){b.getNextBuffer(function(b){if(b){var d=new FileReader();d.addEventListener("loadend",function(){a.appendBuffer(d.result)});d.readAsArrayBuffer(b)}else c()})};b.videoCodec?(e=n.getCachedVideoStreamObject(b),c=a.getMediaSource().addSourceBuffer('video/mp4; codecs="'+b.videoCodec+'"'),c.addEventListener("updateend",function(){g(c,e,function(){a.videoStreamEnded()})},!1)):a.videoStreamEnded();b.audioCodec?(f=n.getCachedAudioStreamObject(b),d=a.getMediaSource().addSourceBuffer('audio/mp4; codecs="'+b.audioCodec+'"'),d.addEventListener("updateend",function(){g(d,f,function(){a.audioStreamEnded()})},!1)):a.audioStreamEnded();b.videoCodec&&g(c,e,function(){a.videoStreamEnded()});b.audioCodec&&g(d,f,function(){a.audioStreamEnded()})}function N(a,b,c,d){O(a,b,c,d)}function O(a,b,c,d){__p&&__p();b||(b=a.getNode(s.INSERTION_POINT_SIGIL));d=d||v.USER;var e=s.getVideoDataFromMVideo(b),f=n.isVideoDownloading(e.videoID);if(f)return!1;if(D&&D.getMVideoElement()===b&&D.isVisible())return!1;a&&a.prevent();e.effectiveSrc=e.src;var g=n.isSupported()&&e.canUseOffline&&n.getCachedVideoByID(e.videoID);if(g){f=g&&o.checkAccess(g);n.logPlaybackRequest(e.videoID,f,d);if(!f){z();return!1}else{var h=new r(new MediaSource());h.getMediaSource().addEventListener("sourceopen",function(){p.cache_chunked_playback_enabled?M(h,g):L(h,g)},!1);e.effectiveSrc=window.URL.createObjectURL(h.getMediaSource())}}e.muted=e.playMuted!=null?e.playMuted:!!c;return Q(a,b,e,d)}function P(a){a=R(a);return new a(B)}function Q(a,b,c,d){(!D||D.getMVideoElement()!==b)&&(t.invoke("m:video:player:prepare",null,{videoElement:b}),G(),B=b,(B===null||B===undefined)&&g("mtouch_video").warn("mVideoContainer is not available"),q.create_api_on_serverside?(D=c[s.API_INSTANCE_KEY],D||(q.reuse_api_instance&&g("mtouch_video").mustfix("_videoUnit is expected but not found"),D=P(c))):D=P(c),D.init(d));D.show();b=c.playOnClick&&c.type==="video";b&&(D.play(d),c.playInFullScreen&&h.isSupported()&&(h.listenForFullScreenEvent(window,F),c.useShaka?(h.enableFullScreen(B),screen&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape")):h.enableFullScreen(D.getVideoElement())));D.showLoadingSpinner();S(B,c,D.getVideoElement());a&&s.handleLoggingOnPlay(a,D,c);return b}function R(a){if(a.useShaka)return l;else if(q.enableSphericalVideo&&a.spherical)return m;else if(y(a,!0))return j;return k}function S(a,b,c){var d=500;b.videoScrollUseLowThrottleRate&&(d=200);E||(E=new u());E.addSubscriptions(t.listen("scroll",null,A(function(){return T(a,b,c)},d)))}function T(a,b,c){if(!D)return;b=h.isFullScreen()||s.isVisible(x(a));c=q.fix_scroll_playing?D.isPlayingState():D.isPlayScheduled();!b&&c&&I()!==v.AUTOPLAY?J(v.VIDEO_VISIBILITY):b&&!c&&I()===v.VIDEO_VISIBILITY&&K(v.VIDEO_VISIBILITY)}function d(){return D?D.isPlayScheduled()?s.PLAYER_STATE.playing:s.PLAYER_STATE.paused:s.PLAYER_STATE.paused}f.getLastActionReason=I;f.getPlayerState=d;f.getPlayerDOMVideoElement=b;f.pause=J;f.play=K;f.removePlayer=G;f.setLastActionReason=c;f.setupListeners=a;f.showPlayer=O}),null);