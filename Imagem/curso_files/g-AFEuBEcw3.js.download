if (self.CavalryLogger) { CavalryLogger.start_js(["FcVJi"]); }

__d("WebFunnelLogger",["Banzai","invariant"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){this.$2={},this.$3={},this.$4="web_funnel_logging",this.$5(),this.$1.funnel_definition=a}a.prototype.log=function(){this.$1.funnel_payload=JSON.stringify(this.$2),this.$1.action_payload=JSON.stringify(this.$3),g.post(this.$4,this.$1,g.BASIC),this.$5()};a.prototype.logWithEventTime=function(a){this.$1.event_time=a/1e3,this.$6(),g.post(this.$4,this.$1,g.BASIC),this.$5()};a.prototype.logVital=function(){this.$6(),g.post(this.$4,this.$1,g.VITAL),this.$5()};a.prototype.logVitalWithEventTime=function(a){this.$1.event_time=a/1e3,this.$6(),g.post(this.$4,this.$1,g.VITAL),this.$5()};a.prototype.$6=function(){this.$1.funnel_payload=JSON.stringify(this.$2),this.$1.action_payload=JSON.stringify(this.$3),this.$1.action!==null||h(0,5829),this.$1.session_key!==null||h(0,5830)};a.prototype.$5=function(){this.$1={};this.$2={};this.$3={};return this};a.prototype.setAction=function(a){this.$1.action=a;return this};a.prototype.addActionPayload=function(a,b){this.$3[a]=b;return this};a.prototype.setActionTag=function(a){this.$1.action_tag=a;return this};a.prototype.addFunnelPayload=function(a,b){this.$2[a]=b;return this};a.prototype.setFunnelTags=function(a){this.$1.funnel_tags=a;return this};a.prototype.setSecondaryOrder=function(a){this.$1.secondary_order_value=a;return this};a.prototype.setSessionKey=function(a){this.$1.session_key=a;return this};a.prototype.markStart=function(){this.$1.session_marker="start";return this};a.prototype.markEnd=function(){this.$1.session_marker="end";return this};a.prototype.setUserId=function(a){this.$1.user_id=a;return this};a.prototype.setIsEmployee=function(a){this.$1.is_employee=a;return this};e.exports=a}),null);
__d("XAppGrowthCtaLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mobile/android/redirect/cta_logging/",{event:{type:"Enum",required:!0,enumType:1}})}),null);
__d("MAppGrowthCtaLogging",["BanzaiLogger","Stratcom","WebFunnelLogger","XAppGrowthCtaLoggingController","XAsyncRequest","goURI"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();a={init:function(a){__p&&__p();h.listen("click",a,function(a){__p&&__p();var b=a.getTarget().getAttribute("data-disabled");a.getTarget().setAttribute("data-disabled","1");var c=a.getTarget().getAttribute("href");if(b!="1"){b=a.getTarget().getAttribute("data-event");b=j.getURIBuilder().setEnum("event",b).getURI();var d=function(b){a.getTarget().setAttribute("data-disabled","")};new k(b).setMethod("POST").setHandler(d).send()}b=c.startsWith("#!")?c.substring(2):c;l(b)})},logToPromoFunnelLogger:function(a,b,c,d,e){h.listen("click",a,function(a){var f=new i("MSitePromosUpsellFunnelDefinition").setAction("clicked").setSessionKey(c).addFunnelPayload("upsell_id",b);e&&f.markStart();f.logWithEventTime(Date.now());g.log("MsiteUpsellPromosRealTimeLoggerConfig",{event:"clicked",upsell:b,impression:c});d!==""&&l(d);f=a.getTarget().getAttribute("href");a=f.startsWith("#!")?f.substring(2):f;l(a)})}};e.exports=a}),null);
__d("MFeedAdsGapRuleViolationDetection",["Banzai","BanzaiODS","CSS","DataAttributeUtils","DOM","ge","isEmpty","runMaybeOnAfterTTI"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o="ei",p="qid",q="gap rule violation",r="non violating ads gap",s="non violating ego gap",t="first position violation",u="feed load",v="spacing invalidation",w="ego_pymk",x="ego_other",y=[],z=[],A=[],B=[],C={},D={},E={},F=[];a={registerFeedStories:function(a){__p&&__p();n(function(){__p&&__p();var b=l(a.containerID);if(b==null||b.childNodes==null)return;C=babelHelpers["extends"]({},a.demoAdChecks,C);E=a.egoGapRule;F=a.invalidateEgo?a.egoStories:{};var c=this._getStoriesFromContainer(b);a.isLoggingEnabled&&c.length!==0&&this._logFeedLoad();y=y.concat(c);for(var d in a.minGaps)Object.prototype.hasOwnProperty.call(a.minGaps,d)&&(D[d]=a.minGaps[d]);m(C)&&(a.isLoggingEnabled&&this._checkFirstPosViolation(a,b),(a.invalidateEgo||a.isLoggingEnabled||a.isGapRuleInvalidationEnabled)&&this._checkGapRuleViolation(a))}.bind(this))},_getStoriesFromContainer:function(a){var b=[];for(var c=0;c<a.childNodes.length;c++){var d=this._convertStoryNodeToObject(a.childNodes[c]);d!==null&&b.push(d)}return b},_convertStoryNodeToObject:function(a){var b=a.getAttribute("data-dedupekey"),c=[j.getDataFt(a)];if(c[0]==null)return null;var d=JSON.parse(c[0]);return{dataFTArray:c,dedupKey:b,isSponsored:!!d[o],isEgoPymk:F[b]===w,isEgoOther:F[b]===x,height:a.offsetHeight,qid:parseInt(d[p],10),nodeID:a.id}},_checkFirstPosViolation:function(a,b){if(y.length>0&&y[0].isSponsored){b={ftArray:y[0].dataFTArray,qid:y[0].qid,nodeid:y[0].nodeID};a.isLoggingEnabled&&!(y[0].dedupKey in B)&&(this._logFirstPosViolation(b),B[y[0].dedupKey]=b)}},_getMinGap:function(a,b,c){a=Math.min(a?a:Number.MAX_VALUE,b?b:Number.MAX_VALUE);return a!==Number.MAX_VALUE?a:c},_getStoryDedupKeysJSONString:function(a,b){var c=[];for(var a=a;a<=b;a++)c.push(y[a].dedupKey);return JSON.stringify(c)},_getStoryDedupKeys:function(){return y.map(function(a){return a.dedupKey})},_checkGapRuleViolation:function(a){__p&&__p();var b=null,c=null,d=null;for(var e=0;e<y.length;e++){var f=y[e];if(f.isSponsored){var g=!1,h=!1;if(b!==null){var i=e-c,j=null,k;b===c?k=this._getMinGap(D[d.dedupKey],D[f.dedupKey],a.defaultMinGap):k=this._getMinGapBetweenStories(d,f);var l;i<k?(j=q,l=c):(j=r,l=b);a.isLoggingEnabled&&((!(f.dedupKey in z)||z[f.dedupKey].event_type!==j)&&(this._logGapEvent(j,l,e),z[f.dedupKey]={event_type:j}));a.isGapRuleInvalidationEnabled&&j==q&&(this._invalidateGapRuleViolatedAd(d,f),g=!0,y.splice(e--,1))}!g&&!h&&(b=e,c=e,d=f)}if(a.invalidateEgo&&(f.isEgoPymk||f.isEgoOther)){l=!1;if(c!==null){i=e-c;k=this._getMinGapBetweenStories(d,y[e]);if(i<k){l=!0;j=k-i;g=-1;for(var h=e+1;h<y.length;h++){if(y[h].isSponsored||y[h].isEgoPymk||y[h].isEgoOther)break;else j--;if(j===0){g=h;break}}g>0?this._swapAndLogEgo(e,h):(this._invalidateAndLogEgo(e),e--)}else a.shouldLogEgo&&!A[f.dedupKey]&&(A[f.dedupKey]=!0,this._logGapEvent(s,c,e))}l||(c=e,d=f)}}},_getMinGapBetweenStories:function(a,b){__p&&__p();var c;if(a.isSponsored||a.isEgoOther)c="ad";else if(a.isEgoPymk)c="pymk";else return 0;if(b.isSponsored||b.isEgoOther)a="ad";else if(b.isEgoPymk)a="pymk";else return 0;return E[c+"_"+a]},_swapAndLogEgo:function(a,b){this._shiftEgoBelowOrganicStory(y[a].nodeID,y[b].nodeID);var c=y[a];y.splice(a,1);y.splice(b,0,c);h.bumpEntityKey("m_feed_ego_invalidation","swap")},_shiftEgoBelowOrganicStory:function(a,b){a=l(a);b=l(b);a&&b&&k.insertAfter(b,a)},_invalidateAndLogEgo:function(a){var b=l(y[a].nodeID);b&&i.hide(b);y.splice(a,1);h.bumpEntityKey("m_feed_ego_invalidation","invalidate")},_logFirstPosViolation:function(a){var b={ft:a.ftArray[0],event_type:t,intValues:{qid:a.qid}};a.error_msg&&(b.error_msg=a.error_msg);g.post("feed_ads_gap_rule_violation",b)},_logGapEvent:function(a,b,c){if(b===null)return;var d=y[b],e=y[c],f=0;for(var h=b+1;h<c;h++)f+=y[h].height;h={ft_A:d.dataFTArray[0],ft_B:e.dataFTArray[0],event_type:a,intValues:{dist:c-b,pdist:f,pos:c+1,qid_A:d.qid,qid_B:e.qid},strValues:{previous_unit_type:this._getUnitTypeForLogging(d),unit_type:this._getUnitTypeForLogging(e)},dedup_keys:this._getStoryDedupKeysJSONString(b,c)};g.post("feed_ads_gap_rule_violation",h)},_getUnitTypeForLogging:function(a){if(a.isSponsored)return"ad";else if(a.isEgoPymk)return"pymk";else if(a.isEgoOther)return"ego_other";return null},_logFeedLoad:function(){var a={event_type:u};g.post("feed_ads_gap_rule_violation",a)},_invalidateGapRuleViolatedAd:function(a,b){var c=l(b.nodeID);c&&i.hide(c);c={ft_array_A:a.dataFTArray[0],ft_array_B:b.dataFTArray[0],event_type:v};g.post("feed_ads_gap_rule_violation",c)}};e.exports=a}),null);
__d("MFeedErrorDetection",["Banzai","DataAttributeUtils"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={};function j(event,a,b,c){var d={event:event,shouldLogDetail:a,site:"mtouch"};a&&(d.intValues=b,d.normalValues=c);g.post("feed_error_detection",d,{delay:0})}a={registerFeedStory:function(a){__p&&__p();var b=a.feedObjectElement;a=a.shouldLogDetail;if(!b)return;var c=h.getDataFt(b);b=b.getAttribute("data-dedupekey");if(!b||!c)return;if(i[b]){var d;a&&(d={dedupKey:b,ft_A:c,ft_B:i[b]});j("mtouch_duplicate_stories",a,{},{dup_field:d||{}})}else i[b]=c}};e.exports=a}),null);
__d("XFeedNUXSaveSeenStateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/feed/nux/seen/save/",{link_id:{type:"String"},key:{type:"String",required:!0},seen:{type:"Bool",defaultValue:!1},env:{type:"Enum",enumType:0}})}),null);
__d("MFeedNUXTooltip",["DOM","MRequest","MViewport","Stratcom","SubscriptionsHandler","XFeedNUXSaveSeenStateController","destroyOnUnload","mixInEventEmitter"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o={},p,q={},r,s=0,t=100,u=1,v=0;function w(){p=j.listen("scroll",null,y),m(x)}function x(){p&&p.remove(),p=null,window.clearTimeout(r),r=null}function y(){__p&&__p();var a=i.getHeight();r&&(window.clearTimeout(r),r=null);for(var b in o){var c=o[b],d=c.getNodes(),e=c.getHeadRoom();for(var f=0;f<d.length;f++){var g=d[f].getBoundingClientRect();if(g.top>=e&&g.bottom<=a){z(d[f],c);break}}}}function z(a,b){r=window.setTimeout(function(){b.getContext()!==a&&(b.setContext(a),b.show())},s)}function a(a,b,c,d){"use strict";__p&&__p();o.length||w();if(o[b]||q[b]){c.destroy();return}this.$1=b;this.$2=g.scry(document.getElementById("page"),"*",a);this.$3=a;this.$4=v;this.$5=c;this.$6=d===0?0:d||t;o[b]=this;var e=new k();e.addSubscriptions(this.$5.addListener("show",this.emit.bind(this,"show")),this.$5.addListener("hide",function(){this.emit("hide"),e.release()}.bind(this)));y()}a.prototype.destroy=function(){"use strict";delete o[this.$1],Object.keys(o).length||x()};a.prototype.getContext=function(){"use strict";return this.$5.getContext()};a.prototype.getNodes=function(){"use strict";return this.$2};a.prototype.getHeadRoom=function(){"use strict";return this.$6};a.prototype.getIsUnseen=function(){"use strict";return this.$4===v};a.prototype.setContext=function(a){"use strict";this.$5&&this.$5.setContext(a)};a.prototype.show=function(){"use strict";if(!this.$5||this.$4===u)return;q[this.$1]=!0;this.$4=u;this.$5.show();var a=l.getURIBuilder().setString("key",this.$1).setBool("seen",!0);new h(a.getURI()).setMethod("POST").send();this.destroy()};a.prototype.hide=function(){"use strict";this.$5&&this.$5.hide()};n(a,{show:!0,hide:!0});e.exports=a}),null);
__d("MFeedReactionsNUX",["BanzaiLogger","MLegacyDataStore","MLiveData","Stratcom","SubscriptionsHandler","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();function a(a,b){__p&&__p();var c=b&&b.isCommentNUX;if(a){var d=new k();d.addSubscriptions(j.listen("click","like-reaction-flyout",function(b){__p&&__p();var e=b.getNode("like-reaction-flyout"),f=b.getNode("feed-ufi-comments");if(!e||f)return;f=h.get(e);if(c&&!f.isComment||!c&&f.isComment)return;var g=f.feedback_target||f.feedbackTarget;if(g){var j=i.get(g);d.addSubscriptions(j.listen("change",function(){j.getData().has_viewer_liked&&l(function(){a.setContext(b.getTarget()),a.show(),m(g)})}))}}),a.once("hide",function(){d.release()}));c||d.addSubscriptions(j.listen("click","reactions-bling-bar",function(b){var c=b.getNode("mufi-inline").querySelector('a[data-sigil*="like-reaction-flyout"]');if(c){var d=b.getNode("feed-ufi-metadata");d=h.get(d).feedback_target.toString();m(d);a.setContext(c);a.show();b.kill()}}));j.listen("m:page:unload",null,function(){j.removeCurrentListener(),d.release()})}}function m(a){g.log("WebReactionsNuxLoggerConfig",{feedback_id:a,"interface":"mTouch"})}e.exports.init=a}),null);
__d("ShareMenuTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){h.log("logger:ShareMenuLoggerConfig",this.$1,g.BASIC)};a.prototype.logVital=function(){h.log("logger:ShareMenuLoggerConfig",this.$1,g.VITAL)};a.prototype.logImmediately=function(){h.log("logger:ShareMenuLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAppID=function(a){this.$1.appid=a;return this};a.prototype.setAppversion=function(a){this.$1.appversion=a;return this};a.prototype.setClienttime=function(a){this.$1.clienttime=a;return this};a.prototype.setComposerSessionID=function(a){this.$1.composer_session_id=a;return this};a.prototype.setCountry=function(a){this.$1.country=a;return this};a.prototype.setDeviceid=function(a){this.$1.deviceid=a;return this};a.prototype.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};a.prototype.setFbAudience=function(a){this.$1.fb_audience=a;return this};a.prototype.setFbEntryPoint=function(a){this.$1.fb_entry_point=a;return this};a.prototype.setFbShareType=function(a){this.$1.fb_share_type=a;return this};a.prototype.setFbSignificance=function(a){this.$1.fb_significance=a;return this};a.prototype.setName=function(a){this.$1.name=a;return this};a.prototype.setOrcaEntryPoint=function(a){this.$1.orca_entry_point=a;return this};a.prototype.setOrcaSignificance=function(a){this.$1.orca_significance=a;return this};a.prototype.setSessionid=function(a){this.$1.sessionid=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};b={appid:!0,appversion:!0,clienttime:!0,composer_session_id:!0,country:!0,deviceid:!0,extra_client_data:!0,fb_audience:!0,fb_entry_point:!0,fb_share_type:!0,fb_significance:!0,name:!0,orca_entry_point:!0,orca_significance:!0,sessionid:!0,vc:!0};e.exports=a}),null);
__d("PagesEventWatchStatusSelectorType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WATCH_STATUS_GOING_SIGIL:"watch-status-going",WATCH_STATUS_INTERESTED_SIGIL:"watch-status-interested",WATCH_STATUS_NOT_GOING_SIGIL:"watch-status-not-going"})}),null);
__d("XFeedChainingAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/feed/pivot/chaining/",{share_id:{type:"String"},ufi_node_id:{type:"String"},ft_id:{type:"String"}})}),null);
__d("MFeedChaining",["BanzaiLogger","DOM","MParent","MUFIRequest","PagesEventWatchStatusSelectorType","Stratcom","SubscriptionsHandler","XAsyncRequest","XFeedChainingAsyncController","ge"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";__p&&__p();var q="suggestion-chain-unit",r="ufi-inline-like",s="empty-suggestion-unit",t="has-chaining-unit",u=!1;a={_isSuccessfulUnit:function(a){return!l.hasSigil(a,s)},addChainingUnit:function(a,b){__p&&__p();a=p(a);if(!a)return;var c=i.bySigil(a,"story-div");if(!c)return;var d=c.nextElementSibling;if(!(d&&l.hasSigil(d,q))&&this._isSuccessfulUnit(b)){h.insertAfter(c,b);d=h.scry(a,"*",r);d=d.length&&d[0];c=d&&d.getAttribute("href");if(c){b=j.getURI(c);b.removeQueryData("chainingEnabled");d.setAttribute("href",b.toString())}}},addLinkChaining:function(a,b){a=p(a);if(!a)return;a=i.bySigil(a,"story-div");if(!a)return;var c=l.hasSigil(a,t);c||(h.insertAfter(a,b),l.addSigil(a,t),g.log("MTouchLinkPivotsLoggerConfig",{event:"impression"}))},addEventChaining:function(a,b){a=p(a);if(!a)return;a=i.bySigil(a,"story-div");if(!a)return;var c=l.hasSigil(a,t);c||(h.insertAfter(a,b),l.addSigil(a,t))},registerClickHandler:function(a){var b=h.scry(a.story,"*","m-feed-story-attachments-element")[0];if(!b)return;var c=new m();c.addSubscriptions(h.listen(b,"click",null,function(){var b=o.getURIBuilder().setString("share_id",a.share_id.toString()).setString("ufi_node_id",a.ufi_node_id.toString()).setString("ft_id",a.ft_id).getURI();new n(b).send();g.log("MTouchLinkPivotsLoggerConfig",{event:"request"})}),l.listen("m:page:unload",null,function(){c.release()}))},registerEventRSVPButtonClickHandler:function(a){var b=h.scry(a.story,"*","m-feed-story-attachments-element")[0];if(!b)return;l.listen("click",k.WATCH_STATUS_INTERESTED_SIGIL+a.share_id,function(b){b=o.getURIBuilder().setString("share_id",a.share_id.toString()).setString("ufi_node_id",a.ufi_node_id.toString()).setString("ft_id",a.ft_id).getURI();new n(b).send()})},listenClickEventsOnChainingUnit:function(){if(u)return;l.listen("click","link-pivots-story",function(event){var a=null;event.getNode("link-pivots-share-link")?a="share":event.getNode("link-pivots-save-link")?a="save":event.getNode("link-pivots-attachment")&&(a="outbound_click");g.log("MTouchLinkPivotsLoggerConfig",{event:a})});u=!0}};e.exports=a}),null);
__d("MReactionsBlingBar",["MLiveData","MViewport","Stratcom","SubscriptionsHandler","UFIReactionIcons","UFIReactionTypes","URI","createIxElement","cx","fbt"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){__p&&__p();var q=l.ordering.reduce(function(a,b,c){a[b]=c;return a},{});function r(a){"use strict";__p&&__p();var b=a.elements;this.container=b.container;this.isPermalink=a.isPermalink;this.requestID=a.requestID;this.separateCommentsLink=a.separateCommentsLink;this.uri=new m(a.uri);this.commentsURI=a.commentsURI?new m(a.commentsURI):null;this.shouldAnchor=a.shouldAnchor;this.feedbackTarget=g.get(a.feedbackTargetID);this.subscriptions=new j();this.subscriptions.addSubscriptions(i.listen("m:page:unload",null,this.onUnload.bind(this)),this.feedbackTarget.listen("change",this.onChange.bind(this)));this.isPermalink&&this.shouldAnchor&&(this.pageLoadListener=i.listen(["m:page:render:complete"],null,this.anchorOnPageLoad.bind(this)),this.subscriptions.addSubscriptions(this.pageLoadListener))}r.prototype.onChange=function(){"use strict";__p&&__p();var a=this.feedbackTarget.getData(),b=a.reactioncountmap,c=a.request_id;if(c===this.requestID||!b)return;c=l.ordering.filter(function(a){a=b[a];return a&&a["default"]>0}).sort(function(a,c){var d=b[a]["default"],e=b[c]["default"];return d===e?q[a]-q[c]:e-d}).slice(0,3).map(function(a,b){var c=document.createElement("div");c.className="_1g05";c.style.zIndex=3-b;c.appendChild(n(k[a][16]));return c});c=c.reduce(function(a,b){a.appendChild(b);return a},document.createElement("span"));c.className="_qfz";var d=document.createElement("div");d.className="_1w1k";if(this.separateCommentsLink){var e=document.createElement("a");this.uri.addQueryData("anchor_composer","false");e.href=this.uri;e.appendChild(c);d.appendChild(e)}else d.appendChild(c);e=a.comment_count;c=a.share_count;var f=a.reactionsentences.current&&a.reactionsentences.current.text,g=document.createElement("div");g.className="_1g06";g.setAttribute("aria-label",p._("{count} reagiram",[p._param("count",f)]));g.textContent=f;d.appendChild(g);g=this.container;var h=document.createElement("div");h.className="_1fnt";if(!this.isPermalink){if(e>0){var i=document.createElement("span");i.className="_1j-c"+(this.separateCommentsLink?" _6hyu":"");i.textContent=e===1?p._("1 coment\u00e1rio"):p._("{count} coment\u00e1rios",[p._param("count",a.reduced_comment_count)]);if(this.separateCommentsLink){var j=document.createElement("a");this.commentsURI!==null?j.href=this.commentsURI:(this.uri.addQueryData("anchor_composer","true"),j.href=this.uri);j.appendChild(i);h.appendChild(j)}else h.appendChild(i)}if(c>0){j=document.createElement("span");j.className="_1j-c";j.textContent=c===1?p._("1 compartilhamento"):p._("{count} compartilhamentos",[p._param("count",a.reduced_share_count)]);h.appendChild(j)}}while(g.hasChildNodes())g.removeChild(g.firstChild);if(f||e||c){i=document.createDocumentFragment();i.appendChild(d);i.appendChild(h);g.appendChild(i)}};r.prototype.onUnload=function(){"use strict";this.subscriptions.release(),this.subscriptions=null};r.prototype.anchorOnPageLoad=function(){"use strict";h.scrollToNode(this.container)};e.exports={init:function(a){new r(a)}}}),null);
__d("XUFIReactionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/reaction/",{client_id:{type:"String"},ft_ent_identifier:{type:"String"},reaction_type:{type:"Enum",enumType:0},story_render_location:{type:"Enum",enumType:1},is_inline:{type:"Bool",defaultValue:!1},is_comment:{type:"Bool",defaultValue:!1},is_permalink:{type:"Bool",defaultValue:!1},action_source:{type:"String"},feedback_source:{type:"Int"},feedback_referrer:{type:"String"},is_sponsored:{type:"Bool",defaultValue:!1},basic_origin_uri:{type:"String"},basic_reload:{type:"Exists",defaultValue:!1},on_demand_content_time_offset:{type:"Int"},live_content_time_offset:{type:"Int"},bgsync_id:{type:"String"},aftercursor:{type:"String"},tab:{type:"String"},_ft_:{type:"String"}})}),null);
__d("MReactionsFlyout",["ActorURI","BanzaiLogger","CancelableEventListener","CSS","DOM","MAudioController","MBlockingTouchable","MLegacyDataStore","MLiveData","MParent","MUFIConfig","MUFIReactionsUtils","MUFIRequest","Stratcom","SubscriptionsHandler","TouchEventType","URI","XUFIReactionController","cx","fbt","gkx"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A){__p&&__p();var B=[1,2,4,3,7,8],C=17,D={top:.3,bottom:.6},E,F=[];function G(a){"use strict";__p&&__p();this.autoHideOnScroll=function(event){__p&&__p();var a=this.flyout;if(!a||!a.isShown()){t.removeCurrentListener();return}var b;window.innerHeight?b=window.innerHeight:document.body&&(b=document.body.clientHeight);if(!b)return;var c=a.getContext().getBoundingClientRect().top,d=b*D.top,e=b*D.bottom;(c<d||c>e)&&a.hide()}.bind(this),this.onUnload=function(){this.onHide(),this.pageSubscriptions.release()}.bind(this),this.onClick=function(event){var a=event.getNode("reaction-item");a instanceof HTMLElement&&this.select(a)}.bind(this),this.onScreenReaderTrigger=function(event){__p&&__p();var a=event.getTarget();if(!a)return;a=a.previousSibling;if(!a)return;this.flyout.setContext(a);this.setSupported();this.flyout.show();this.flyoutSubscriptions.addSubscriptions(t.listen("click","reaction-item",this.onClick));a=o.get(n.get(this.flyout.getContext()).feedbackTarget).getData();a=a.viewerreaction;var b=null;for(var c=0,d=this.reactionElements.length;c<d;c++){var e=n.get(this.reactionElements[c]);e=e.reaction;e===a&&(b=this.reactionElements[c])}b||(b=this.reactionElements[0]);b.focus()}.bind(this),this.onClickTrigger=function(event){__p&&__p();var a=event.getTarget();if(!(a instanceof HTMLElement))return;var b=this.flyout;if(b.isShown()){b.hide();return}t.hasSigil(a,"like-reaction-flyout")||(a=p.bySigil(a,"like-reaction-flyout"));a&&this.setupFlyout(b,a)}.bind(this),this.onClickCapture=function(event){__p&&__p();var a=this.flyout;if(a){var b=n.get(a.getContext());b=b.kaiOSReactions;if(b&&a.isShown()){a.hide();return}}event.stop()}.bind(this),this.onTouchStart=function(event){__p&&__p();var a=this.flyout;if(!a.isShown()){if(A("706087")){var b=document;b=b.body;b&&j.addClass(b,"_70ol")}this.touchStartX=event.getTouch().clientX;this.timing.touchStartTime=Date.now();this.preventScrollTimeout=setTimeout(function(){this.canScroll=!1}.bind(this),200);this.longpressTimeout=setTimeout(function(){this.timing.shownTime=Date.now();var b=event.getTarget();if(!(b instanceof HTMLElement))return;t.hasSigil(b,"like-reaction-flyout")||(b=p.bySigil(b,"like-reaction-flyout"));b&&this.setupFlyout(a,b)}.bind(this),300)}}.bind(this),this.onTouchMove=function(event){__p&&__p();var a=this.flyout,b=a.getContext()&&n.get(a.getContext()).isComment;this.canScroll||(b?event.kill():event.prevent());if(!a.isShown())return;var c=event.getTouch(),d=c.clientX;c=c.clientY;c=document.elementFromPoint(d,c);if(c){var e=c.nodeName==="I"||c.nodeName==="IMG";if(!(e||this.canScrub)){this.canScrub=Math.abs(this.touchStartX-d)>=25;return}a.getContentRoot().setAttribute("data-longpress",!0);if(a.getContentRoot().contains(c)){if(e){c=(d=c)!=null?(d=d.parentNode)!=null?d.parentNode:d:d}this.active!==c&&n.get(c).reaction&&(this.isUpdatedDock||b?this.showOverlay(this.overlay&&this.overlay.slide):this.showOverlay(this.overlay&&this.overlay.dots),this.removeActive(),this.active=c,c&&c.setAttribute("data-active","true"))}else(!this.overlay||!this.overlay.container.contains(c))&&(this.removeActive(),this.showOverlay(this.overlay&&this.overlay.release))}}.bind(this),this.onTouchEnd=function(event){__p&&__p();var a=this.active;if(a)this.log({finalReaction:n.get(a).reaction,viaScrubbing:!0}),this.select(a);else{a=event.getTouch();var b=a.clientX;a=a.clientY;b=document.elementFromPoint(b,a);a=this.flyout;b&&!(a.getContentRoot().contains(b)||a.getContext().contains(b)||this.overlay&&this.overlay.container.contains(b))&&a.hide()}}.bind(this),this.onWindowClick=function(event){var a,b=event.getNode("reaction-item");b&&(a=n.get(b).reaction);this.log({finalReaction:a,viaScrubbing:!1})}.bind(this),this.onWindowTouchEnd=function(){var a=this.flyout;a.isShown()?(this.timing.touchEndTime=Date.now(),a.getContentRoot().removeAttribute("data-longpress")):(this.canScroll=!0,clearTimeout(this.longpressTimeout),clearTimeout(this.preventScrollTimeout))}.bind(this),this.onHide=function(){__p&&__p();if(A("706087")){var a=document;a=a.body;a&&j.addClass(a,"_70ol")}this.canScroll=!0;this.canScrub=!1;this.removeActive();this.removeUFIOverlay();this.flyout.hide();this.flyoutSubscriptions.release();this.flyoutSubscriptions=new u()}.bind(this),this.onWindowTouchMove=function(){this.flyout.isShown()||(this.canScroll=!0,clearTimeout(this.longpressTimeout),clearTimeout(this.preventScrollTimeout))}.bind(this),this.flyout=a,this.active=null,this.canScroll=!0,this.canScrub=!1,this.preventScrollTimeout=null,this.longpressTimeout=null,this.nuxTooltip=null,this.overlay=null,this.timing={touchStartTime:null,touchEndTime:null,shownTime:null},this.touchStartX=0,this.isUpdatedDock=q.hasUpdatedDock,this.pageSubscriptions=new u(),this.flyoutSubscriptions=new u(),this.assignFlyoutContent(),this.pageSubscriptions.addSubscriptions(a.addListener("hide",this.onHide),t.listen("m:page:unload",null,this.onUnload),t.listen("m:viewport:orientation-change",null,this.onHide),t.listen(v.END,null,this.onWindowTouchEnd),t.listen("click","screenreader-reactions-trigger",this.onScreenReaderTrigger),i.listen(a.getContentRoot(),"touchmove","reaction-item",this.onTouchMove)),F.forEach(function(a){return this.addAnchor(a)}.bind(this)),E&&this.setNUXTooltip(E),q.hasIEMobileFixes?this.pageSubscriptions.addSubscriptions(t.listen("touchcancel",null,this.onWindowTouchEnd)):this.pageSubscriptions.addSubscriptions(t.listen("touchmove",null,this.onWindowTouchMove))}G.prototype.addAnchor=function(a){"use strict";var b=t.hasSigil(a,"kaios-like-react-trigger");b?this.pageSubscriptions.addSubscriptions(i.listen(a,"click",null,this.onClickTrigger)):this.pageSubscriptions.addSubscriptions(i.listen(a,v.START,null,this.onTouchStart));q.hasIEMobileFixes||this.pageSubscriptions.addSubscriptions(i.listen(a,"touchmove","like-reaction-flyout",this.onTouchMove),i.listen(a,"touchmove","reaction-item",this.onTouchMove))};G.prototype.assignFlyoutContent=function(){"use strict";(!this.reactionElements||this.reactionElements.length===0)&&(this.reactionElements=document.getElementsByClassName("_1-kd"),Array.prototype.forEach.call(this.reactionElements,function(a){return m.init(a)}))};G.prototype.setupFlyout=function(a,b){"use strict";__p&&__p();A("676818")&&l.play("reactions","openReactionsFlyout");var c=n.get(b);a.setContext(b);this.setSupported();b=this.nuxTooltip;b&&b.hide();b=a.getContentRoot();b=p.bySigil(b,"m-layer-root");b&&(this.isUpdatedDock&&!c.isComment&&(this.applyMultilineFlyout(),j.addClass(b,"_5xt_")),c.isComment&&j.addClass(b,"_31rl"));a.show();b=n.get(a.getContext());b=b.kaiOSReactions;b||this.createUFIOverlay();this.isUpdatedDock||c.isComment?this.showOverlay(this.overlay&&this.overlay.tap):this.showOverlay(this.overlay&&this.overlay.dots);this.flyoutSubscriptions.addSubscriptions(t.listen("click","reaction-item",this.onClick),t.listenCapture("click","like-reaction-flyout",this.onClickCapture),t.listenCapture("click",null,this.onWindowClick));b=n.get(a.getContext());c=b.kaiOSAutoHideReactions;c&&this.flyoutSubscriptions.addSubscriptions(t.listen("scroll",null,this.autoHideOnScroll));q.hasIEMobileFixes||this.flyoutSubscriptions.addSubscriptions(t.listen("touchend","like-reaction-flyout",this.onTouchEnd),t.listen("touchend","reaction-item",this.onTouchEnd))};G.prototype.select=function(a){"use strict";__p&&__p();var b=this.flyout;b.hide();A("676818")&&l.play("reactions","selectReactionFromFlyout");if(!a)return;a=n.get(a);a=a.reaction;b=b.getContext();var c=n.get(b),d=c.feedbackTarget;c=c.isComment;var e=o.get(d).getData();if(e.viewerreaction===a)return;if(c){c=b.getAttribute("data-uri")||b.getAttribute("href");c=s.getURI(c);c.addQueryData("reaction_comment_id",d.split("_")[1]);c.addQueryData("viewer_reaction",a);s.send(d,r.getReactionDataForComment(e,a),c)}else{c=e.actor_for_post;c!==0&&!c&&(c=null);var f=p.bySigil(b,"story-div");s.send(d,r.getReactionData(e,a),x.getURIBuilder().getURI(),(e={},e[g.PARAMETER_ACTOR]=c,e.$1=f?n.get(f).linkdata:null,e.ft_ent_identifier=d,e.reaction_type=a,e.feedback_source=new w(b.getAttribute("data-uri")).getQueryData().feedback_source,e),r.getConfigForBackgroundRetry(d))}};G.prototype.removeActive=function(){"use strict";var a=this.active;if(a){this.active=null;a.removeAttribute("data-active");a=a.parentElement;a&&a.classList.remove("mReactionInAnimation")}};G.prototype.applyMultilineFlyout=function(){"use strict";__p&&__p();var a=this.flyout,b=a.getContext();b=p.bySigil(b,"mufi-inline");a=a.getContentRoot();b=k.scry(b,"div","reactions-bling-bar");if(b.length==0){j.addClass(a,"_5xu1");return}b=b[0].getBoundingClientRect().height;b>C?j.addClass(a,"_5xu0"):b<C?j.addClass(a,"_5xu1"):(j.removeClass(a,"_5xu0"),j.removeClass(a,"_5xu1"))};G.prototype.showOverlay=function(a){"use strict";var b=this.overlay;if(b&&a){j.show(a);for(var c in b){var d=b[c];d!=a&&d!=b.container&&j.hide(d)}}};G.prototype.log=function(a){"use strict";var b=o.get(n.get(this.flyout.getContext()).feedbackTarget).getData(),c=b.ft_ent_identifier;b=b.viewerreaction;var d=this.timing,e=d.touchEndTime,f=d.touchStartTime;d=d.shownTime;if(!e||!f||!d)return;e=e-f;h.log("UserReactionsLoggerConfig",{feedback_id:c,final_reaction:a.finalReaction||b,initial_reaction:b,"interface":"mTouch",long_press_duration:e>0?e:0,time_spent:Date.now()-d,via_scrubbing:a.viaScrubbing})};G.prototype.createUFIOverlay=function(){"use strict";__p&&__p();var a=this.flyout.getContext(),b=n.get(a),c=b.feedbackTarget;b=b.isComment;c=o.get(c).getData().supportedreactions||B;var d=document.createElement("div");d.style.display="none";d.className="_403o";c=Math.round(c.length*1.3);for(var e=0;e<c;++e){var f=document.createElement("div");f.className="_403p";d.appendChild(f).className="_403p"}f=document.createElement("div");f.style.display="none";f.className="_5xu2";f.textContent=z._("Toque para escolher a sua rea\u00e7\u00e3o").toString();e=document.createElement("div");e.style.display="none";e.className="_5xu2";e.textContent=z._("Deslize o dedo no menu de rea\u00e7\u00f5es").toString();c=document.createElement("div");c.style.display="none";c.className="_5xu2";c.textContent=z._("Solte para cancelar").toString();var g=document.createElement("div");g.className="_403n";b&&j.addClass(g,"_31ru");g.appendChild(d);g.appendChild(c);(this.isUpdatedDock||b)&&(g.appendChild(f),g.appendChild(e));b=p.bySigil(a,"ufi-inline-actions");b||(b=p.bySigil(a,"ufi-inline-comment-actions"));b?(b.insertBefore(g,b.firstChild),this.overlay={container:g,tap:f,slide:e,release:c,dots:d}):this.overlay=null};G.prototype.removeUFIOverlay=function(){"use strict";var a=this.overlay;if(a){a=a.container;a.parentNode&&a.parentNode.removeChild(a);this.overlay=null}};G.prototype.setSupported=function(){"use strict";var a=n.get(this.flyout.getContext());a=o.get(a.feedbackTarget).getData().supportedreactions||B;var b=this.reactionElements;for(var c=0,d=b.length;c<d;++c){var e=b[c],f=n.get(e);f=f.reaction;j.conditionShow(e,a.indexOf(f)>=0)}};G.prototype.setNUXTooltip=function(a){"use strict";this.nuxTooltip=a};var H;e.exports={init:function(a){H=new G(a)},addAnchor:function(a){if(H){H.addAnchor(a);return}F.push(a)},initNUX:function(a){E=a,H&&H.setNUXTooltip(a)}}}),null);
__d("SaveState",[],(function(a,b,c,d,e,f){a={SAVING:"saving",SAVED:"saved",UNSAVING:"unsaving",UNSAVED:"unsaved"};e.exports=a}),null);
__d("SaveStateHandler",["SaveState"],(function(a,b,c,d,e,f,g){__p&&__p();var h=null;function i(){"use strict";this.$1={},this.$2={}}i.prototype.addListener=function(a,b){"use strict";this.$1[a]||(this.$1[a]=[]),this.$1[a].push(b)};i.prototype.setState=function(a,b){"use strict";a.forEach(function(a){this.$2[a]=b;if(!this.$1[a])return;a=this.$1[a];a.forEach(function(a){try{a.call(window,b)}catch(a){}})},this)};i.prototype.getState=function(a){"use strict";return this.$2[a]};i.$3=function(){"use strict";h||(h=new i());return h};i.listen=function(a,b){"use strict";this.$3().addListener(a,b)};i.getState=function(a){"use strict";return this.$3().getState(a)};i.saving=function(a){"use strict";this.$3().setState(a,g.SAVING)};i.saved=function(a){"use strict";this.$3().setState(a,g.SAVED)};i.unsaving=function(a){"use strict";this.$3().setState(a,g.UNSAVING)};i.unsaved=function(a){"use strict";this.$3().setState(a,g.UNSAVED)};i.isSaveAction=function(a){"use strict";a=this.$3().getState(a);return a==g.UNSAVED||a==g.UNSAVING};i.isInTransition=function(a){"use strict";a=this.$3().getState(a);return a==g.SAVING||a==g.UNSAVING};e.exports=i}),null);
__d("MSiteMessagingEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EVENT_USER_LIST_MESSAGE_BUTTON:"event_user_list_message_button",FB_PAGE_CTA_PAGE_PRIMARY_BUTTON:"fb_page_cta_page_primary_button",JEWEL:"jewel",JEWEL_THREAD:"jewel_thread",JEWEL_COMPOSE:"jewel_compose",JEWEL_SEE_ALL_MESSAGES:"jewel_see_all_messages",THREAD_LIST_NEW_MESSAGE:"thread_list_new_message",THREAD_LIST_NEW_GROUP:"thread_list_new_group",THREAD_LIST_THREAD:"thread_list_thread",PROFILE_MESSAGE_BUTTON:"profile_message_button",PAGE_PROFILE_MESSAGE_BUTTON:"page_profile_message_button",PAGE_MESSAGE_PRIMARY_CTA_BUTTON:"page_message_primary_cta_button",DESTINATION_ADS_CLICK_TO_MESSENGER:"destination_ads_click_to_messenger",SPACES_VR_ONLINE_MESSAGE_BUTTON:"spaces_vr_online_message_button",FEED_STORY_SHARE_AS_MESSAGE:"feed_story_share_as_message",REACTOR_LIST_MESSAGE_BUTTON:"reactor_list_message_button",FEED_PAGE_POST_MORE_OPTIONS:"feed_page_post_more_options"})}),null);
__d("ShareAudience",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=Object.freeze({EVERYONE:"everyone",FRIENDS:"friends",FOF:"fof",SELF:"self",CUSTOM:"custom",PAGE:"page",GROUP:"group",MESSENGER:"messenger",FRIEND_TIMELINE:"friend_timeline",UNKNOWN:"unknown",fromPrivacyString:function(a){switch(a){case null:case undefined:case g.UNKNOWN:return g.UNKNOWN;case"286958161406148":return g.SELF;case"300645083384735":return g.EVERYONE;case"368493386561757":case"275425949243301":return g.FOF;case"123780391104836":case"291667064279714":return g.FRIENDS;default:return g.CUSTOM}}});e.exports=g}),null);
__d("ShareMenuEventShareType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SHARE_FLOW_STARTED:"share_flow_started",SHARE_OPTION_SELECTED:"share_option_selected",SHARE_CREATED:"share_created",SHARE_ABANDONED:"share_abandoned",SHARE_FAILURE:"share_failure"})}),null);
__d("ShareModeConst",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SELF_PAGE:"selfpage",PAGE:"page",SELF_POST:"self",FRIEND:"friend",GROUP:"group",FUNDRAISER:"fundraiser",ALBUM:"album",MESSAGE:"message",ONE_CLICK:"oneclick",EVENT:"event",UNKNOWN:"unknown",SILENT_DISCO:"silent_disco",OWN_POST:"own"})}),null);
__d("ShareSignificance",[],(function(a,b,c,d,e,f){"use strict";var g=Object.freeze({SIGNIFICANT:"significant",NOT_SIGNIFICANT:"not_significant",NO_TEXT:"no_text",calculate:function(a){if(!a)return g.NO_TEXT;var b=new Set();(a||"").toLowerCase().split(" ").forEach(function(a){return b.add(a)});return b.size>5?g.SIGNIFICANT:g.NOT_SIGNIFICANT}});e.exports=g}),null);
__d("MFeedShareAnalytics",["MSiteMessagingEntryPoint","MSiteMessengerDiodeTypedLogger","ShareAudience","ShareMenuEventShareType","ShareMenuTypedLogger","ShareModeConst","ShareSignificance","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";__p&&__p();var o="feed_share_action";a={_listeners:[],_initShareMode:null,_currentShareMode:null,_entryPointFromShareMode:function(a){switch(a){case l.FRIEND:return"share_to_friend_timeline";case l.GROUP:return"share_to_group";case l.MESSAGE:return"send_in_message";case l.ONE_CLICK:return"share_now";case l.OWN_POST:case l.SELF_POST:return"write_post";case l.PAGE:case l.SELF_PAGE:return"page";default:return"unknown"}},init:function(){this._cleanupListeners(),this._registerListeners(),this._initShareMode=null,this._currentShareMode=null},_onTearDown:function(){this._currentShareMode&&this.onShareAbandoned()},_registerListeners:function(){this._listeners.push(n.listen("m:sharemode:selected",null,function(a){a=a.getData();a&&a.sharemode&&(this._currentShareMode=a.sharemode)}.bind(this))),this._listeners.push(n.listen("m:page:unload",null,function(){this._onTearDown()}.bind(this)))},_cleanupListeners:function(){this._onTearDown();while(this._listeners.length>0){var a=this._listeners.pop();a&&a.remove&&a.remove()}},onMenuOpened:function(){this._initShareMode=null,this._currentShareMode=null,new k().setName(o).setFbShareType(j.SHARE_FLOW_STARTED).log()},onMenuOptionSelected:function(a){this._initShareMode=a;this._currentShareMode=a;var b=this._entryPointFromShareMode(a);new k().setName(o).setFbShareType(j.SHARE_OPTION_SELECTED).setFbEntryPoint(b).log();a===l.MESSAGE&&new h().setVC().setMessagingEntryPoint(g.FEED_STORY_SHARE_AS_MESSAGE).log()},_getShareTextArea:function(){var a=document.getElementById("share_msg_input");return a instanceof HTMLTextAreaElement?a:null},_getAudienceFromCurrentState:function(){__p&&__p();var a=document.getElementsByName("privacyx")[1];if(!a||!(a instanceof HTMLInputElement))return i.UNKNOWN;switch(this._currentShareMode){case l.FRIEND:return i.FRIEND_TIMELINE;case l.GROUP:return i.GROUP;case l.MESSAGE:return i.MESSENGER;case l.PAGE:case l.SELF_PAGE:return i.PAGE;case l.SELF_POST:case l.OWN_POST:return i.fromPrivacyString(a.value);default:return l.UNKNOWN}},onShareAbandoned:function(){__p&&__p();var a=null,b=null,c=null;if(this._initShareMode){a=this._entryPointFromShareMode(this._initShareMode);var d=this._getShareTextArea();d&&(b=m.calculate(d.value));c=this._getAudienceFromCurrentState()}new k().setName(o).setFbShareType(j.SHARE_ABANDONED).setFbEntryPoint(a).setFbAudience(c).setFbSignificance(b).log();this._initShareMode=null;this._currentShareMode=null}};e.exports=a}),null);
__d("MShareAngoraAttachment",["Stratcom"],(function(a,b,c,d,e,f,g){__p&&__p();var h=!1;a=function(a){if(h)return;h=!0;window.addEventListener("error",function(event){if(event.target.nodeName=="IMG"){for(var a=event.target;a!=document.body&&!g.hasSigil(a,"shareAngoraAttachmentMedia");a=a.parentNode);a!=document.body&&(a.style.display="none")}},!0)};f.registerDeadImageListener=a}),null);
__d("MShareFlyout",["DOM","MComposerEntry","MComposerTypes","MComposition","MCompositionConfigFields","MCompositionShareFields","MCompositionStoreID","MFeedShareAnalytics","MLegacyDataStore","MModalDialog","MParent","MRequest","MViewport","NTAnnounceSubscription","ShareModeConst","Stratcom","URI","Vector","cx","fbt","ge","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,aa,j,k,l,m,n,o,p,ba,q,ca,r,s,t,u,da,v,ea,w){"use strict";__p&&__p();var x="mufi-inline",y="share-one-click-button",z="share-post-one-click-button",fa="share-with-message-button",ga="share-in-a-private-message-button",A="oneClickShareResult",B=6e3,ha="share-to-page-button",ia="page_share_content_action",ja="/a/sharer.php",C="/sharer-dialog.php",ka="share-in-a-group-button",D,E,F,G,H,I,J,K={},L={},M=[],N,O,P,Q,R,S;function a(a,b,c,d,e){__p&&__p();if(D)return;Z();N=b;D=a;E=a.getRoot();O=c;b=d||{};R=b.bluebarNoOverlapBuffer;o.init();m.init();pa(e)}function b(a){return}function T(a){m.onMenuOptionSelected(a),S=!0}function U(a){o.isOpen()?o.load(a):o.open(a,la)}function la(a){!!a&&a.canceled&&m.onShareAbandoned()}function V(){var a=new ba(ja);a.setMethod("POST");a.addData({m:r.ONE_CLICK,privacyx:N,sid:G,shareID:G,fs:H,fr:I,internal_preview_image_id:F,should_share_post:Q,direct:!0,_ft_:J});a.send();T(r.ONE_CLICK);D.hide()}function ma(){__p&&__p();if(O){var a={};a[k.ID]=G;a[k.FEEDBACK_SOURCE]=H;a[k.FEEDBACK_REFERRER]=I;var b={};b[j.COMPOSER_TYPE]=i.SHARE;b[j.COMPOSER_TITLE]=v._("Compartilhar");b[j.CONTEXTUAL_MESSAGE]=v._("Compartilhar na sua linha do tempo");b[j.PLACEHOLDER]=v._("Escreva algo...");b[j.DISABLE_PHOTOS]=!0;var c=q.getScrollTop();h.invoke(new aa().setStoreData(l.CONFIG,b).setStoreData(l.SHARE,a))["finally"](function(){return q.scrollTo(0,c)})}else U(new t(C).setQueryData({fs:H,fr:I,sid:G,_ft_:J,internal_preview_image_id:F}).toString()),T(r.SELF_POST),D.hide()}function W(a){U(new t(C).setQueryData({fs:H,fr:I,m:a,sid:G,_ft_:J,internal_preview_image_id:F,selected_page_id:P}).toString()),T(a),D.hide()}function na(){U(new t(C).setQueryData({fs:H,fr:I,m:r.MESSAGE,sid:G,u:window.location.href,internal_preview_image_id:F}).toString()),T(r.MESSAGE),D.hide()}function X(a){a&&g.hide(a)}function Y(a){a&&g.show(a)}function oa(a,b){b=b&&b.is_comment_share;var c=g.scry(a,"a",z)[0];a=g.scry(a,"a",y)[0];b&&!K[G]?(X(c),X(a)):Q?(Y(c),X(a)):(Y(a),X(c))}function pa(a){__p&&__p();M=[D.addListener("beforeshow",function(){__p&&__p();if(R!=null){var b=q.getScrollTop();b<R&&ea("header")?D.setAutoflipTopOffset(R-b):D.setAutoflipTopOffset(0)}b=D.getContext();var c=n.get(b);Q=c.reshare_post;G=c&&c.share_id;H=c&&c.feedback_source;I=c&&c.feedback_referrer;F=c&&c.internal_preview_image_id;var d=p.bySigil(b,"story-div");a?J=a:J=d?n.get(d).linkdata:null;G&&(K[G]=qa(b));m.onMenuOpened();S=!1;oa(E,c)}),D.addListener("hide",function(){S||m.onShareAbandoned()}),s.listen("click",y,V),s.listen("click",z,V),s.listen("click",fa,ma),s.listen("click",ga,na),s.listen("click",ha,function(){W("page")}),s.listen("click",ka,function(){W("group")}),s.listen("m:page:unload",null,Z),ca.subscribe(ia,function(a){a=JSON.parse(a),G=a.content_id,P=a.page_id,W("page")})]}function Z(){D=null;for(var a in L)clearTimeout(L[a]);L={};while(M.length){var b=M.pop();b&&b.remove&&b.remove()}}function qa(a){if(!a||a===document||a instanceof DocumentFragment)return null;return s.hasSigil(a,x)?a:p.bySigil(a,x)}function $(a,b){var c=g.scry(a,"div",A);c[0]&&g.remove(c[0]);c=g.create("div",{className:"_4_m7"},b);s.addSigil(c,A);g.appendContent(a,c);return c}function c(b,a){__p&&__p();var c=K[a];delete K[a];if(!c)return;var d=$(c,b);b=u.getPos(c);c=u.getDim(c).y;var e=q.getScrollTop(),f=q.getScrollHeight();(b.y<e||b.y+c>e+f)&&q.scrollTo(b.x,b.y-250);L[a]=w(function(){delete L[a],g.remove(d)},B)}function d(b,a){var c=K[a];delete K[a];if(!c)return;if(u.getPos(c).y>=q.getScrollTop()){var d=$(c,b);L[a]=w(function(){delete L[a],u.getPos(c).y>=q.getScrollTop()&&g.remove(d)},B)}}f.init=a;f.initMisinfo=b;f.onSuccess=d;f.onFailure=c}),null);
__d("MUFIComposerFocus",["DOM","MLegacyDataStore","MParent","Parent","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l="mufi-composer-focus",m;function n(a){var b=a.parentNode,c=[];while(b)c.unshift(a),a=b,b=a.parentNode;return c}function o(a,b){var c=Math.min(a.length,b.length)-1;for(var c=c;c>=0;c--)if(a[c]===b[c])return c;return-1}function p(a){__p&&__p();if(!a)return null;var b=i.bySigil(a,"story-div")||i.bySigil(a,"snowflake-root")||i.bySigil(a,"notes-root");if(!b)return null;b=g.scry(b,"*","mufi-composer").filter(function(a){return!i.bySigil(a,"m-inline-reply-composer")});if(b.length===1)return b[0];var c=n(a);a=b.reduce(function(a,b,d){d=n(b);d=o(c,d);return d>=a[0]?[d,b]:a},[-1,null]);return a[1]}function q(event){var a=event.getNode(l);if(!(a instanceof HTMLElement))return;a=p(a);a&&(event.prevent(),a.focus())}function a(a){if(!a||!m)return!1;a=k.hasSigil(a,l)?a:i.bySigil(a,l);return!!p(a)}function r(event){__p&&__p();var a=event.getNode(l);if(!(a instanceof HTMLElement))return;var b=p(a);if(b){var c=i.bySigil(a,"touchable");c&&(h.get(c).nativeClick=!0);c=j.byTag(a,"a");c instanceof HTMLAnchorElement&&(c.href="#"+g.uniqID(b))}}function b(){m||(k.listen("touchstart",l,r),k.listen("click",l,q),m=!0)}e.exports={init:b,isInitialized:function(){return m},isComposerFocusTrigger:a}}),null);
__d("MActionBubbleHelper",["BanzaiODS","CSS","Stratcom","cx"],(function(a,b,c,d,e,f,g,h,i,j){var k="enabled_action";e.exports.toggleActionBubbleItem=function(a,b,c,d){g.bumpEntityKey("rrsurfaces","action_bubble.toggle_action."+String(b)+"."+c+"."+d),h.conditionClass(a,"_58a0",b),b?i.addSigil(a,k):i.removeSigil(a,k)}}),null);